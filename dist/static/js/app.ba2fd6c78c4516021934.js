webpackJsonp([1],{"14xJ":function(t,e,a){"use strict";(function(t){var s=a("QK9P"),i=a("U4Px"),r=a("IjUY");e.a={name:"ChartMainPage",data:function(){return{dialogDisplay:!1,chart:null,allPoints:[],allLines:[],allData:null,module:"",sprint:"",cachedResponse:null,expandIcon:a("DHFl"),foldIcon:a("hJuN"),isSummaryDisplay:!0,currentClickedPoint:null,allGroups:null,sprintid:null}},methods:{openDialog:function(){this.dialogDisplay=!0;var t=this;setTimeout(function(){t.dialogDisplay=null})},sprintSelected:function(t){var e=t.release+t.sprint;this.module=t.module,this.sprint=e},getLatestSummaryData:function(){var t=this.allData.summary.length-1,e=t-1;if(e<0&&(e=0),t>=0){var a=this.getSummaryByDate(t),s=this.getSummaryByDate(e),i=t;this.$root.eventHub&&this.$root.eventHub.$emit("getDaySummary",i,"",a,s,null,this.allGroups,this.allData,this.sprintid)}},getSummaryByDate:function(t){for(var e=this.allData.summary,a=null,s=0;s<e.length;s++){var i=e[s];if(i.day===t){a=i;break}}return a},_isHaveAddStory:function(t,e){for(var a=0,s=0;s<t.length;s++)for(var i=t[s],r=i.AddStory,o=i.points,n=i.ingroup,l=0;l<n.length;l++){if(n[l].groupname===e&&!0===r){a+=o;break}}return a},updateData:function(t){this.chart.emptyData(),this.allData=t.resData;var e=t.resData.summary,a=t.resData.constances,s=t.resData.initialPoints,i=t.resData.constances.storyIssueResovledStatus,r={},o=0;for(var n in s)this.addNewGroup(n,o),o++;if(e.length>0){var l=e[1];1===e.length&&(l=e[0]);var c=l.day,d=l.groups,u=l.storyList;for(var p in d){var h=d[p];null==r[p]&&(r[p]={}),r[p].day=c,r[p].blocker=h.blocker,r[p].followup=h.followup,r[p].point=h.points;var m=h.currentPoint,f={};this._isHaveAddStory(u,p)>0&&(f={border:"2px solid black"});var g=this.chart.addPoint(0,m,p,{cssstyle:f,type:"all",group:p,summarydata:l,constances:a});this.allPoints.push(g)}}for(var v=1;v<e.length;v++){var y=e[v],b=y.day,w=y.storyList,_=y.groups;for(var C in _){var x=_[C];null==r[C]&&(r[C]={}),r[C].day=b,r[C].blocker=x.blocker,r[C].followup=x.followup,r[C].point=x.points;var k=x.currentPoint,S={};this._isHaveAddStory(w,C)>0&&(S={border:"2px solid rgba(245, 108, 108, 0.8)"}),this.allPoints.push(this.chart.addPoint(v,k,C,{cssstyle:S,type:"all",group:C,summarydata:y,constances:a}))}}this.chart.renderBar(),this.chart.reScaleChart(),this.chart.reAddAllGroupLine();var D=this.chart.getGroupsData(),I=[];for(var $ in D)I=I.concat(D[$].lines);for(var A=0;A<I.length;A++){var L=I[A],P=L.endPoint,F=P.extraData.summarydata.groups,M=!1;for(var V in F){var R=F[V].blocker;if(null!=R&&R.length>0)for(var E=0;E<R.length;E++){if(R[E].status!==i&&P.extraData.group===V){M=!0;break}}}var G=!1;for(var H in F){var T=F[H].followup;if(null!=T&&T.length>0)for(var j=0;j<T.length;j++){if(T[j].status!==i&&P.extraData.group===H){G=!0;break}}}if(M){var N=parseInt(L.ele.css("left"))+1,O=parseInt(L.ele.css("top"))-1;L.ele.css("left",N+"px"),L.ele.css("top",O+"px"),L.ele.css("border-top","2px solid red")}if(G){var Y=parseInt(L.ele.css("left"))+1,B=parseInt(L.ele.css("top"))-1;L.ele.css("left",Y+"px"),L.ele.css("top",B+"px"),L.ele.css("border-bottom","2px solid #F7931E")}}this.chart.reRenderGroupVisible(),this.getLatestSummaryData(),this.chart.reActivePoint()},addNewGroup:function(t,e){var a=0,i=null;for(var r in s.a.colors){if(a===e){i=s.a.colors[r];break}a++}this.chart.addGroup(t,{color:i})},toDashbord:function(){window.location.href="/#/admin/home"},prepareChart:function(e,a,i){var r=this,o=.75*t(window).width();null==e&&(e=o-100),null==a&&(a=t(window).height()-200);var n=new s.a(".myChartMain",e,a,i);n.addEventListener("pointclicked",function(e){n.clearAllClickedPoint(),r.currentClickedPoint=t(e.sourceele).attr("pointid");var a=e.data.data.extraData.summarydata,s=e.data.data.extraData.summarydata.day,i=0===s?0:s-1,o=r.getSummaryByDate(i),l=e.data.data.extraData.group,c=e.data.data.extraData.type;e.data.isClicked?r.$root.eventHub&&r.$root.eventHub.$emit("getDaySummary",s,l,a,o,c,r.allGroups,r.allData,r.sprintid):r.getLatestSummaryData()}),n.addEventListener("chartClicked",function(t){r.currentClickedPoint=null,r.getLatestSummaryData()}),n.addEventListener("pointhoverenter",function(t){var e=t.data.pointdata.constances,a=t.data.pointdata.group,s=t.data.point.y,i=t.data.point.x,o=t.data.point.positionX,l=t.data.point.positionY,c=t.data.pointdata.summarydata.groups[a].blocker,d=0;if(null!=c)for(var u=0;u<c.length;u++){c[u].status!==e.storyIssueResovledStatus&&d++}var p=t.data.pointdata.summarydata.groups[a].followup,h=0;if(null!=p)for(var m=0;m<p.length;m++){p[m].status!==e.storyIssueResovledStatus&&h++}var f='<table><tr><td style="border-right:1px solid black;padding-right:5px;"><div>Day '+i+": "+a+"</div><div>Point: "+s+"</div><div>Blocker: "+d+"&nbsp;&nbsp;Followup: "+h+'</div></td><td style="padding-left:5px;">';f+=r._getStoryCountByCategory(t.data.pointdata.summarydata.storyList),f+="</td></tr></table>",n.displayPopover(o,l,f)}),n.addEventListener("pointhoverleave",function(t){n.hidePopover()}),this.chart=n},_getStoryCountByCategory:function(t){if(null==t)return"";for(var e="<div>",a={},s=0;s<t.length;s++){var i=t[s].status;null==a[i]?a[i]=1:a[i]+=1}for(var r in a){e+="<div><span>"+r+":  </span><span>"+a[r]+"</span></div>"}return e+="</div>"},resizeChart:function(e,a,s){(t(".myChartMain").empty(),this.prepareChart(e,a,s),this.updateData(this.cachedResponse),this.currentClickedPoint)&&t(".myChartMain .chartArea [pointid="+this.currentClickedPoint+"]").click()},toggleSummary:function(){var e=t(window).width(),a=.75*e,s=this.cachedResponse.resData.sprintTotalDayCount;!0===this.isSummaryDisplay?this.resizeChart(a-100,null,s-1):this.resizeChart(e-100,null,s-1)},folderClicked:function(){this.isSummaryDisplay=!this.isSummaryDisplay},sprintChanged:function(t,e,a){this.sprintid=a,this.cachedResponse=t,this.allGroups=e,this.toggleSummary()}},created:function(){this.$root.eventHub&&(this.$root.eventHub.$on("sprintChanged",this.sprintChanged),this.$root.eventHub.$on("sprintSelected",this.sprintSelected))},mounted:function(){},components:{"sprint-select-dialog":i.a,datasheet:r.a}}}).call(e,a("7t+N"))},"4Fbj":function(t,e){},"6uLR":function(t,e){},"7RTq":function(t,e){},"7nUM":function(t,e){},"8HoS":function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px",height:"100px"}}},[a("el-row",{staticClass:"cardRow"},[a("el-col",{staticClass:"leftPart",style:{background:t.bkcolor},attrs:{span:10}},[t._v("\n        "+t._s(t.label)+"\n      ")]),t._v(" "),a("el-col",{attrs:{span:14}},[a("span",{style:{color:t.bkcolor,fontSize:t.fontSize,fontWeight:t.fontWeight}},[t._v(t._s(t.value))]),a("span",{staticStyle:{color:"#b7b7b7",margin:"4px"}},[t._v(t._s(t.unit))])])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({props:["label","value","unit","bkcolor"],data:function(){return{fontSize:"2rem",fontWeight:"bold"}}},s,!1,function(t){a("gIP1")},"data-v-959f9a9e",null);e.a=i.exports},DHFl:function(t,e,a){t.exports=a.p+"static/img/expand.13eb2a8.png"},Dxvo:function(t,e,a){"use strict";var s=a("Icdr");a("XLwt"),a("miEh"),a("4UDB");var i={mounted:function(){},methods:{createChart:function(){this.myChart||(this.myChart=s.init(document.getElementById("mainChart")),this.myChart.setOption({title:{text:"Sprint History Review"},tooltip:{trigger:"axis"},legend:{data:["Planned","Commited","Done"],show:!0,left:"center"},toolbox:{show:!0,feature:{magicType:{type:["line","bar"],title:{line:"line",bar:"bar"}}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",name:"Points",axisLabel:{formatter:"{value}"}},series:[{name:"Planned",type:"line",data:[],itemStyle:{normal:{color:"#67C23A"}}},{name:"Done",type:"line",data:[]}]}))},fetchData:function(){this.createChart();var t=this;this.axios.get("/admin/dashboard/sprintHistoryPoints?module="+window.localStorage.getItem("module")).then(function(e){if("success"===e.data.status){var a=e.data.resData;t.setData(a)}else t.$message({message:e.data.resMsg,type:e.data.status})}).catch(function(e){console.log(e),t.$message({message:"Data error!",type:"error"})})},setData:function(t){this.myChart.setOption({series:[{name:"Planned",type:"line",data:t.planned,itemStyle:{normal:{color:"#E6A23C"}}},{name:"Commited",type:"line",data:t.commited,itemStyle:{normal:{color:"#409EFF"}}},{name:"Done",type:"line",data:t.done,itemStyle:{normal:{color:"#67C23A"}},markLine:{data:[{type:"average",name:"Average"}]}}],xAxis:{type:"category",boundaryGap:!1,data:t.axis}})}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-card",{staticClass:"box-card"},[e("div",{staticStyle:{height:"400px"},attrs:{id:"mainChart"}})])],1)},staticRenderFns:[]},o=a("VU/8")(i,r,!1,null,null,null);e.a=o.exports},"F+DU":function(t,e,a){"use strict";(function(t){var s=a("8HoS"),i=a("Dxvo"),r=a("lbWv"),o=a("Lfhl"),n=a("SVII"),l=a("ol6R");e.a={data:function(){return{sprintinfo:"",dashboard:{sprintData:{},pastdays:0},dialogDisplay:!1,burndownSprintid:""}},beforeRouteUpdate:function(t,e,a){a(this.fetchData())},beforeRouteEnter:function(t,e,a){a(function(t){t.fetchData()})},methods:{fetchData:function(){var e=this,a=this;if(!window.localStorage.getItem("module")||!window.localStorage.getItem("sprint"))return!1;this.axios.get("/admin/dashboard?module="+window.localStorage.getItem("module")+"&sprintid="+window.localStorage.getItem("sprint")).then(function(s){if("success"===s.data.status){var i=s.data.resData;a.dashboard=i,a.sprintinfo=i.sprintData,a.burndownSprintid=a.sprintinfo._id,e.$refs.worklogChartRef.fetchData("",e.sprintinfo),e.$refs.historyChartRef.fetchData("",e.sprintinfo),e.$refs.inprogressChart.setData(s.data.resData),e.$root.eventHub.$emit("updatePercentage",{percentage:"done"===a.sprintinfo.status?100:Math.ceil((s.data.resData.commitedstories.length+s.data.resData.donestories.length||0)/(s.data.resData.inprogresstories.length+s.data.resData.commitedstories.length+s.data.resData.donestories.length||1)*100)}),setTimeout(function(){a.$root.eventHub.$emit("getBreakDownChart",e.sprintinfo._id,t(a.$refs.burndownChartContainer.$el).width()-80)})}else window.location.href="/"}).catch(function(t){console.log(t),a.$message({message:"数据获取失败！",type:"error"})})},refreshData:function(){this.$refs.worklogChartRef.refresh(this.sprintinfo)},showBurndown:function(){this.dialogDisplay=!0;var t=this;setTimeout(function(){t.dialogDisplay=null}),this.$root.eventHub&&this.$root.eventHub.$emit("sprintDataChanged",this.burndownSprintid)}},components:{numberCard:s.a,lineChart:i.a,worklogChart:r.a,inprogressChart:o.a,breakdownLayer:n.a,inprogressCard:l.a}}}).call(e,a("7t+N"))},FOMY:function(t,e){},IjUY:function(t,e,a){"use strict";var s=a("ddsI"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataSheet"},[a("el-header",{staticClass:"dataSheetSummary"},[a("div",{staticClass:"title"},[t._v("\n      Summary of "+t._s(t.groupName)),a("br"),t._v(" "),a("span",{staticClass:"subtitle"},[t._v("Day "+t._s(t.day)+" - "+t._s(t.date))])])]),t._v(" "),a("el-main",{staticClass:"tabContainer"},[a("div",{staticClass:"dataSheetCardContainer",staticStyle:{display:"none"}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px",height:"40px"}}},[a("el-row",{staticClass:"dataSheetCardRow"},[a("el-col",{staticClass:"leftPart",style:{background:t.effortData.color},attrs:{span:10}},[t._v(t._s(t.effortData.label)+"\n          ")]),t._v(" "),a("el-col",{staticClass:"rightPart",attrs:{span:14}},[a("span",{staticClass:"rateValue",style:{color:t.effortData.color}},[t._v(t._s(t.effortData.value))]),t._v(" "),a("span",{staticClass:"rateIcon",style:{color:t.effortData.color}},[t._v("%")])])],1)],1)],1),t._v(" "),a("el-tabs",{staticClass:"dataSheetTabs",attrs:{name:"pointTab",type:"border-card"},model:{value:t.dataSheetTabs,callback:function(e){t.dataSheetTabs=e},expression:"dataSheetTabs"}},[a("el-tab-pane",{staticClass:"dataSheetTabItem",attrs:{label:t.pointLabel}},[a("point-status")],1),t._v(" "),a("el-tab-pane",{staticClass:"dataSheetTabItem",attrs:{name:"blockTab",label:t.blockLabel}},[a("issue-component",{attrs:{type:"block"}})],1),t._v(" "),a("el-tab-pane",{staticClass:"dataSheetTabItem",attrs:{name:"followupTab",label:t.followupLabel}},[a("issue-component",{attrs:{type:"followup"}})],1)],1)],1)],1)},staticRenderFns:[]};var r=function(t){a("jC1V")},o=a("VU/8")(s.a,i,!1,r,null,null);e.a=o.exports},"Jw+w":function(t,e){},LFel:function(t,e){},Lfhl:function(t,e,a){"use strict";var s=a("Icdr");a("XLwt");var i={data:function(){var t=this.$createElement;return{popupTitle:"Story List",showPopup:!1,tableData:[],tableColumns:[{label:"Updater",key:"updater"},{label:"Key",key:"storykey",formatter:function(e,a,s){return t("a",{attrs:{href:"https://jira.successfactors.com/browse/"+s,target:"_blank"}},[s])}},{label:"Summary",key:"summary"},{label:"Status",key:"status",formatter:function(t,e,a){return"initial"===a?t.initialstatus:a}},{label:"Points",key:"points"},{label:"Date",key:"jiracreatedat",formatter:function(t,e,a){return new Date(a).toLocaleString()}}]}},methods:{createChart:function(){var t=this;this.myChart||(this.myChart=s.init(document.getElementById("inprogressChart")),this.myChart.on("click",function(e){"click"===e.type&&"bar"===e.seriesType&&(t.tableData=e.data.list||[],t.showPopup=!0)}),this.myChart.setOption({title:{text:"Inprogress Overview"},tooltip:{show:!0,trigger:"item"},legend:{show:!0,right:"10px",data:["Points","Count"]},toolbox:{show:!1,feature:{magicType:{show:!0,type:["bar"]}}},calculable:!0,yAxis:{type:"value",name:"Points/Count",axisLabel:{formatter:"{value}"}},xAxis:{type:"category",data:[],axisLabel:{interval:0}},series:[{name:"Points",type:"bar",itemStyle:{normal:{borderRadius:5,color:"rgb(230, 162, 60)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:[]},{name:"Count",type:"bar",itemStyle:{normal:{borderRadius:5,color:"rgb(64, 158, 255)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:[]}]})),this.myPie||(this.myPie=s.init(document.getElementById("inprogressPie")),this.myPie.setOption({tooltip:{trigger:"item",formatter:"{a}<br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"center",data:["Passed Days","Remaining Days"]}}))},setData:function(t){this.createChart();var e=[{value:t.totaldays-t.leftdays,name:"Passed Days"},{value:t.leftdays,name:"Remaining Days"}],a=[{value:t.inprogresspoints,name:"Total",list:t.inprogresstories},{value:t.commitedpoints,name:"Commited",list:t.commitedstories},{value:t.donepoints,name:"Done",list:t.donestories},{value:t.initialcommited,name:"Initial Commited",list:t.initialcommitedstories}],s=[{value:t.inprogresstories.length,list:t.inprogresstories},{value:t.commitedstories.length,list:t.commitedstories},{value:t.donestories.length,list:t.donestories},{value:t.initialcommitedstories.length,list:t.initialcommitedstories}];this.myPie.setOption({series:{label:{normal:{formatter:"{c}d({d}%)"}},type:"pie",radius:"55%",center:["50%","60%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},color:["#E6A23C","#67C23A"]}),this.myChart.setOption({xAxis:{type:"category",data:["Open&Inprogress","Commited","Done","Initial Commited"],axisLabel:{interval:0}},series:[{name:"Points",type:"bar",data:a,itemStyle:{normal:{borderRadius:5,color:"#E6A23C",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}}},{name:"Count",type:"bar",itemStyle:{normal:{borderRadius:5,color:"#67C23A",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:s}]})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:22}},[a("div",{staticStyle:{height:"233px"},attrs:{id:"inprogressChart"}})]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:8}},[a("div",{staticStyle:{height:"233px"},attrs:{id:"inprogressPie"}})])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.popupTitle,visible:t.showPopup,width:"80%"},on:{"update:visible":function(e){t.showPopup=e}}},[a("el-table",{attrs:{data:t.tableData,"max-height":"90%",border:""}},[a("el-table-column",{key:t.tableColumns[0].key,attrs:{sortable:"",align:"left",formatter:t.tableColumns[0].formatter,prop:t.tableColumns[0].key,label:t.tableColumns[0].label}}),t._v(" "),a("el-table-column",{key:t.tableColumns[1].key,attrs:{sortable:"",align:"left",formatter:t.tableColumns[1].formatter,prop:t.tableColumns[1].key,label:t.tableColumns[1].label}}),t._v(" "),a("el-table-column",{key:t.tableColumns[2].key,attrs:{sortable:"",align:"left",formatter:t.tableColumns[2].formatter,prop:t.tableColumns[2].key,label:t.tableColumns[2].label}}),t._v(" "),a("el-table-column",{key:t.tableColumns[3].key,attrs:{sortable:"",align:"left",formatter:t.tableColumns[3].formatter,prop:t.tableColumns[3].key,label:t.tableColumns[3].label}}),t._v(" "),a("el-table-column",{key:t.tableColumns[4].key,attrs:{sortable:"",align:"left",formatter:t.tableColumns[4].formatter,prop:t.tableColumns[4].key,label:t.tableColumns[4].label}}),t._v(" "),a("el-table-column",{key:t.tableColumns[5].key,attrs:{sortable:"",align:"left",formatter:t.tableColumns[5].formatter,prop:t.tableColumns[5].key,label:t.tableColumns[5].label}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPopup=!1}}},[t._v("Close")])],1)],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,r,!1,null,null,null);e.a=o.exports},MN5O:function(t,e){},MgfR:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("tvR6");var s=a("qBF2"),i=a.n(s),r=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"app"},o,!1,function(t){a("ev4y")},null,null).exports,l=a("Rf8U"),c=a.n(l),d=a("mtWM"),u=a.n(d),p=a("/ocq"),h={data:function(){return{menuMap:{},planning:[],inprogress:[],done:[],selectedTab:"configuration",selectedPercentage:0}},created:function(){var t=this;this.$root.eventHub.$off("refreshDataRequest",function(){t.fetchData()}),this.$root.eventHub.$on("refreshDataRequest",function(){t.fetchData()}),this.$root.eventHub.$off("updatePercentage",function(e){t.selectedPercentage=(parseInt(e.percentage,10)||100)>100?0:parseInt(e.percentage,10)}),this.$root.eventHub.$on("updatePercentage",function(e){t.selectedPercentage=(parseInt(e.percentage,10)||100)>100?0:parseInt(e.percentage,10)})},methods:{fetchData:function(){var t=this;if(!window.localStorage.getItem("module"))return!1;this.axios.get("/admin/sprint?limit=8&module="+window.localStorage.getItem("module")).then(function(e){if("success"===e.data.status){var a=e.data.resData;t.menuMap=t.jsonfy(a),window.localStorage.getItem("sprint")&&t.menuMap[window.localStorage.getItem("sprint")]?t.selectedTab=window.localStorage.getItem("sprint"):(a[1].length>0?t.selectedTab=a[1][0]._id:a[0].length>0?t.selectedTab=a[0][0]._id:a[2].length>0?t.selectedTab=a[2][0]._id:t.selectedTab="configuration",window.localStorage.setItem("sprint","configuration"!==t.selectedTab?t.selectedTab:"")),t.updateRouter(t.selectedTab)}else t.$message({message:e.data.resMsg,type:e.data.status}),e.data.redirect&&(window.location.href=e.data.redirect)}).catch(function(e){console.log(e),t.$message({message:"Data fetch failed!",type:"error"})})},jsonfy:function(t){var e={};for(var a in this.inprogress=[],this.planning=[],this.done=[],t.forEach(function(t,a,s){t&&t.length>0&&t.forEach(function(t,a,s){e[t._id]||(e[t._id]=t)})}),e)"planning"===e[a].status&&this.planning.push(e[a]),"inprogress"===e[a].status&&this.inprogress.push(e[a]),"done"===e[a].status&&this.done.push(e[a]);return e},handleSelect:function(t){"configuration"!==t.$props.name&&"checktools"!==t.$props.name&&(window.localStorage.setItem("sprint",t.$props.name),this.$root.eventHub.$emit("refreshDataRequest",{type:"changeSprint",current:this.$route.path,target:"planning"===this.menuMap[t.$props.name].status?"/planning":"/dashboard"})),this.updateRouter(t.$props.name)},updateRouter:function(t){"configuration"===t||"checktools"===t?this.$router.push("/"+t+"/"+window.localStorage.getItem("module")+window.localStorage.getItem("sprint")):"planning"===this.menuMap[t].status?this.$router.push("/planning/"+window.localStorage.getItem("module")+window.localStorage.getItem("sprint")):this.$router.push("/dashboard/"+window.localStorage.getItem("module")+window.localStorage.getItem("sprint"))}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar",staticStyle:{background:"rgb(84, 92, 100)",height:"100%"}},[a("el-progress",{staticStyle:{padding:"15px"},attrs:{"text-inside":!0,"stroke-width":16,percentage:t.selectedPercentage,status:"success"}}),t._v(" "),a("el-tabs",{staticClass:"maxWidth",attrs:{"tab-position":"left",value:t.selectedTab},on:{"tab-click":t.handleSelect}},[t._l(t.planning,function(e){return a("el-tab-pane",{key:e._id,attrs:{name:e._id}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" "+t._s(e.release)+"/"+t._s(e.sprint))])])}),t._v(" "),t._l(t.inprogress,function(e){return a("el-tab-pane",{key:e._id,attrs:{name:e._id}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-menu"}),t._v(" "+t._s(e.release)+"/"+t._s(e.sprint))])])}),t._v(" "),t._l(t.done,function(e){return a("el-tab-pane",{key:e._id,attrs:{name:e._id}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-check"}),t._v(" "+t._s(e.release)+"/"+t._s(e.sprint))])])}),t._v(" "),a("el-tab-pane",{key:"configuration",attrs:{name:"configuration"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-setting"}),t._v(" Configuration")])]),t._v(" "),a("el-tab-pane",{key:"checktools",attrs:{name:"checktools"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-view"}),t._v(" Check Tools")])])],2)],1)},staticRenderFns:[]};var f=a("VU/8")(h,m,!1,function(t){a("a6Zt")},null,null).exports,g=a("nu7/"),v=a.n(g),y=a("xbG2"),b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DatePicker"},[a("div",{staticClass:"calendarHeader"},[a("div",{staticClass:"headerLeftArrow",on:{click:t.prevMonth}},[t.isHavePrevMonth?a("span",[t._v("<")]):t._e()]),t._v(" "),a("div",{staticClass:"header"},[t._v("\n      "+t._s(t.displayYear)+" - "+t._s(t.displayMonth+1)+"\n    ")]),t._v(" "),a("div",{staticClass:"headerRightArrow",on:{click:t.nextMonth}},[t.isHaveNextMonth?a("span",[t._v(">")]):t._e()])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"calendarBody"},t._l(t.displayCalendar,function(e,s){return""===e[0].character&&s>1?t._e():a("div",{staticClass:"calendarRow"},t._l(e,function(e,i){return a("div",{staticClass:"calendarCell",class:{weekend:e.weekend,selected:e.selected,disabled:e.disabled},attrs:{celldisabled:e.disabled,rowIdx:s,colIdx:i},on:{click:function(a){return t.cellClicked(s,i,e)}}},[t._v("\n        "+t._s(e.character)+"\n      ")])}),0)}),0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendarText"},[a("div",{staticClass:"calendarRow"},[a("div",{staticClass:"calendarCell weekend"},[t._v("Sun")]),t._v(" "),a("div",{staticClass:"calendarCell"},[t._v("Mon")]),t._v(" "),a("div",{staticClass:"calendarCell"},[t._v("Tue")]),t._v(" "),a("div",{staticClass:"calendarCell"},[t._v("Wed")]),t._v(" "),a("div",{staticClass:"calendarCell"},[t._v("Thu")]),t._v(" "),a("div",{staticClass:"calendarCell"},[t._v("Fri")]),t._v(" "),a("div",{staticClass:"calendarCell weekend"},[t._v("Sat")])])])}]};var w=function(t){a("tnkV")},_={data:function(){return{sprintinfo:{},dialogVisible:!1,title:"Add",form:{workdays:[]},defaultJql:"",sprintSelectedDaysCount:0,currentSprint:window.localStorage.getItem("sprint")||"",currentModule:window.localStorage.getItem("module")||"Module",moduleList:[]}},components:{datepicker:a("VU/8")(y.a,b,!1,w,"data-v-2d0ae54b",null).exports},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("datePickerChanged",this.calendarDateSelected)},computed:{selectedDays:function(){for(var t=[],e=0;e<this.avaliableDays.length;e++){var a=new Date(this.avaliableDays[e].value).getDay();0!==a&&6!==a&&t.push(this.avaliableDays[e].value)}return t},avaliableDays:function(){for(var t=[],e=this.form.start||"",a=this.form.end||"",s=new Date(e+" 00:00:00"),i=new Date(a+" 00:00:00");i.getTime()-s.getTime()>=0;){var r=s.getFullYear(),o=s.getMonth()+1,n=o+"";o<=10&&(n="0"+o);var l=1===s.getDate().toString().length?"0"+s.getDate():s.getDate();t.push({value:r+"-"+n+"-"+l,label:r+"-"+n+"-"+l}),s.setTime(s.getTime()+864e5)}return t}},methods:{fetchData:function(){var t=this,e=this;this.axios.get("/api/v1/modules").then(function(a){if("success"===a.data.status){e.moduleList=a.data.resData;for(var s=[],i=0;i<e.moduleList.length;i++)s.push(e.moduleList[i].key);e.moduleList.length>0?(window.localStorage.getItem("module")&&-1!==s.indexOf(window.localStorage.getItem("module"))?e.currentModule=window.localStorage.getItem("module"):(e.currentModule=e.moduleList.length>0?e.moduleList[0].key:"Module",window.localStorage.setItem("module",e.moduleList.length>0?e.moduleList[0].key:"Module")),t.$root.eventHub.$emit("refreshDataRequest",{type:"changeModule"})):window.localStorage.setItem("module","")}else e.$message({message:a.data.resMsg,type:a.data.status})}).catch(function(t){e.$message({message:"Data fetch failed!",type:"error"}),console.log(t)})},changeModule:function(t){window.localStorage.setItem("module",t),window.localStorage.setItem("sprint",""),this.currentModule=t,this.$root.eventHub.$emit("refreshDataRequest",{type:"changeModule"})},calendarDateSelected:function(t){this.form.workdays=t,this.sprintSelectedDaysCount=this.form.workdays.length},action:function(t){var e=this,a=this,s="";"edit"===t?window.localStorage.getItem("module")&&window.localStorage.getItem("sprint")?(s=v.a.service({fullscreen:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",text:"Loading..."}),this.axios.get("/admin/sprint?sprintid="+window.localStorage.getItem("sprint")+"&module="+window.localStorage.getItem("module")).then(function(t){"success"===t.data.status?(a.form=t.data.resData.sprintinfo,a.dialogVisible=!0,a.title="Edit Sprint",a.defaultJql=t.data.resData.defaultJql):a.$message({message:t.data.resMsg,type:t.data.status}),s.close()}).catch(function(t){s.close(),console.log(t)})):a.$message({message:"Please select sprint first！",type:"error"}):"add"===t?(this.form={status:"planning",jql:this.defaultJql},this.title="Add Sprint",this.dialogVisible=!0):"proceed"===t&&(window.localStorage.getItem("module")&&window.localStorage.getItem("sprint")?(s=v.a.service({fullscreen:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",text:"Loading..."}),this.axios.put("/admin/sprint/proceed?module="+window.localStorage.getItem("module")+"&sprintid="+window.localStorage.getItem("sprint")).then(function(t){"success"===t.data.status&&e.$root.eventHub.$emit("refreshDataRequest",{type:"changeSprint"}),s.close(),a.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),a.$message({message:"Data error!",type:"error"})})):a.$message({message:"Please select sprint first！",type:"error"}))},navigateToHelp:function(){window.open("https://confluence.successfactors.com/display/ENG/Agile+Tracker+Documentation")},actionExec:function(){var t=this,e=this;this.form._id?this.axios.put("/admin/sprint?module="+window.localStorage.getItem("module"),this.form).then(function(a){e.$message({message:a.data.resMsg,type:a.data.status}),"success"===a.data.status&&(t.$root.eventHub.$emit("refreshDataRequest",{type:"changeSprint"}),e.dialogVisible=!1)}).catch(function(t){console.log(t),e.$message({message:"Data error！",type:"error"})}):(this.form.module=window.localStorage.getItem("module"),this.axios.post("/admin/sprint?module="+window.localStorage.getItem("module"),this.form).then(function(a){e.$message({message:a.data.resMsg,type:a.data.status}),"success"===a.data.status&&(t.$root.eventHub.$emit("refreshDataRequest",{type:"changeSprint"}),e.dialogVisible=!1)}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed！",type:"error"})}))}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-dropdown",{on:{command:t.changeModule}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n          "+t._s(t.currentModule)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.moduleList,function(e){return a("el-dropdown-item",{key:e.key,attrs:{command:e.key,divided:""}},[t._v(t._s(e.key))])}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-dropdown",{staticStyle:{float:"right"},on:{command:t.action}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n          Action"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"add"}},[t._v("Add")]),t._v(" "),"done"!=t.sprintinfo.status?a("el-dropdown-item",{attrs:{command:"edit"}},[t._v("Edit")]):t._e(),t._v(" "),a("el-dropdown-item",{attrs:{command:"proceed"}},[t._v(t._s("done"==t.sprintinfo.status?"Restart":"Proceed"))])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:1,offset:18}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-question",size:"mini",round:"",plain:""},on:{click:t.navigateToHelp}},[t._v("Help")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Release"}},[a("el-input",{model:{value:t.form.release,callback:function(e){t.$set(t.form,"release",e)},expression:"form.release"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Sprint"}},[a("el-input",{model:{value:t.form.sprint,callback:function(e){t.$set(t.form,"sprint",e)},expression:"form.sprint"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Start"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"select"},model:{value:t.form.start,callback:function(e){t.$set(t.form,"start",e)},expression:"form.start"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"End"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"select"},model:{value:t.form.end,callback:function(e){t.$set(t.form,"end",e)},expression:"form.end"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Date"}},[t._v("\n        Total Day: "+t._s(t.sprintSelectedDaysCount)),a("br"),t._v(" "),a("datepicker",{attrs:{dateSelected:t.selectedDays,startDate:t.form.start,endDate:t.form.end}})],1),t._v(" "),a("el-form-item",{attrs:{label:"JQL"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.form.jql,callback:function(e){t.$set(t.form,"jql",e)},expression:"form.jql"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Status"}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.actionExec}},[t._v("Save")])],1)],1)],1)},staticRenderFns:[]},x={data:function(){return{}},components:{sidebarComp:f,headerComp:a("VU/8")(_,C,!1,null,null,null).exports},mounted:function(){this.$refs.headerComp.fetchData()}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[e("el-aside",{staticStyle:{width:"170px"}},[e("sidebar-comp",{ref:"sidebarComp"})],1),this._v(" "),e("el-container",[e("el-header",{staticStyle:{"font-size":"12px",background:"#e4e4e4",padding:"20px"}},[e("header-comp",{ref:"headerComp"})],1),this._v(" "),e("el-main",[e("router-view",{ref:"sprintPage"})],1)],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(x,k,!1,function(t){a("6uLR"),a("PgxZ")},"data-v-277286cf",null).exports,D=a("L6bb"),I=a.n(D),$={data:function(){var t=this;return{ruleForm:{username:"",password:"admin"},rules:{username:[{validator:function(e,a,s){""===a?s(new Error("Please input username")):(""!==t.ruleForm.password&&t.$refs.ruleForm.validateField("password"),s())},trigger:"blur"}],password:[{validator:function(t,e,a){""===e?a(new Error("Please input password")):a()},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this,a=this;this.$refs.ruleForm.validate(function(t){t&&e.axios.get("/admin/login/verify?username="+e.ruleForm.username+"&password="+I()(e.ruleForm.password)+"&module="+window.localStorage.getItem("module")).then(function(t){"success"===t.data.status?a.$router.push("/index"):a.$message({message:"Login failed!",type:"error"})}).catch(function(t){console.log(t),a.$message({message:"Login failed!",type:"error"})})})},resetForm:function(t){this.$refs.ruleForm.resetFields()}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Welcome to Agile Tracker")])]),t._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"Employee Id",prop:"username"}},[a("el-input",{attrs:{type:"input","auto-complete":"off",placeholder:"Employee Id"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"Password",prop:"password"}},[a("el-input",{attrs:{type:"hidden","auto-complete":"off"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Submit")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("Reset")])],1)],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")($,A,!1,function(t){a("MN5O")},"data-v-6133f734",null).exports,P={data:function(){return{tableData:[],popupVisible:!1,deleteVisible:!1,form:{},title:"Add Story",deleteObjId:"",groupList:[]}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this,e=this.$route.params.sprintid;this.axios.get("/admin/stories/"+e+"?module="+window.localStorage.getItem("module")).then(function(e){"success"===e.data.status?(t.tableData=e.data.resData,t.groupList=e.data.groups):t.$message({message:"数据获取失败！",type:"error"})}).catch(function(e){console.log(e),t.$message({message:"数据获取失败！",type:"error"})})},handleClick:function(t,e){"edit"===e?(this.title="添加Story",this.form=t,this.popupVisible=!0):"add"===e?(this.title="编辑Story",this.form={},this.popupVisible=!0):"delete"===e&&(this.deleteVisible=!0,this.deleteObjId=t._id)},handleEdit:function(t){var e=this;this.form._id?this.axios.put("/admin/stories?module="+window.localStorage.getItem("module"),this.form).then(function(t){"success"===t.data.status?(e.tableData=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.popupVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetch failed!",type:"error"})}):(this.form.sprint=this.$route.params.sprintid,this.axios.post("/admin/stories?module="+window.localStorage.getItem("module"),this.form).then(function(t){"success"===t.data.status?(e.tableData=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.popupVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetch failed!",type:"error"})}))},handleDelete:function(t){var e=this;this.axios.delete("/admin/stories?objid="+this.deleteObjId+"&sprintid="+this.$route.params.sprintid+"&module="+window.localStorage.getItem("module")).then(function(t){"success"===t.data.status?(e.tableData=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.deleteVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetch failed!",type:"error"})})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"storykey",label:"Key"}}),t._v(" "),a("el-table-column",{attrs:{prop:"summary",label:"Summary"}}),t._v(" "),a("el-table-column",{attrs:{prop:"issuetype",label:"Type"}}),t._v(" "),a("el-table-column",{attrs:{prop:"points",label:"Points"}}),t._v(" "),a("el-table-column",{attrs:{prop:"initialstatus",label:"Status"}}),t._v(" "),a("el-table-column",{attrs:{label:"Groups"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.ingroup.join("/"))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Actions",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row,"edit")}}},[t._v("Edit")]),t._v(" "),t._e(),t._v(" "),t._e()]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.popupVisible,width:"30%",center:""},on:{"update:visible":function(e){t.popupVisible=e}}},[a("span",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Key"}},[a("el-input",{model:{value:t.form.storykey,callback:function(e){t.$set(t.form,"storykey",e)},expression:"form.storykey"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Summary"}},[a("el-input",{model:{value:t.form.summary,callback:function(e){t.$set(t.form,"summary",e)},expression:"form.summary"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Type"}},[a("el-input",{model:{value:t.form.issuetype,callback:function(e){t.$set(t.form,"issuetype",e)},expression:"form.issuetype"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Points"}},[a("el-input",{model:{value:t.form.points,callback:function(e){t.$set(t.form,"points",e)},expression:"form.points"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Status"}},[a("el-input",{model:{value:t.form.initialstatus,callback:function(e){t.$set(t.form,"initialstatus",e)},expression:"form.initialstatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Groups"}},[a("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:t.form.ingroup,callback:function(e){t.$set(t.form,"ingroup",e)},expression:"form.ingroup"}},t._l(t.groupList,function(t){return a("el-option",{key:t._id,attrs:{label:t.groupname,value:t._id}})}),1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.popupVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("Save")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"Delete Confirm?",visible:t.deleteVisible,width:"30%"},on:{"update:visible":function(e){t.deleteVisible=e}}},[a("span",[t._v("Are you sure you want to delete?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleDelete}},[t._v("Confirm")])],1)])],1)},staticRenderFns:[]};var M=a("VU/8")(P,F,!1,function(t){a("aETE")},"data-v-f9a15846",null).exports,V=a("F+DU"),R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-aside",{attrs:{width:"300px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"273px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"font"},[a("el-tag",[t._v(t._s(t.sprintinfo.status&&t.sprintinfo.status.toUpperCase()))])],1),t._v(" "),"done"!=t.sprintinfo.status?a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.refreshData}},[t._v("Refresh")]):t._e()],1),t._v(" "),a("el-form",{staticClass:"demo-table-expand",attrs:{inline:"","label-position":"left"}},[a("el-form-item",{attrs:{label:"Release:"}},[a("span",[t._v(t._s(t.dashboard.sprintData&&t.dashboard.sprintData.release))])]),t._v(" "),a("el-form-item",{attrs:{label:"Sprint:"}},[a("span",[t._v(t._s(t.dashboard.sprintData&&t.dashboard.sprintData.sprint))])]),t._v(" "),a("el-form-item",{attrs:{label:"Start:"}},[a("span",[t._v(t._s(t.dashboard.sprintData&&t.dashboard.sprintData.start))])]),t._v(" "),a("el-form-item",{attrs:{label:"End:"}},[a("span",[t._v(t._s(t.dashboard.sprintData&&t.dashboard.sprintData.end))])])],1)],1)],1)],1)],1),t._v(" "),a("el-main",{staticStyle:{padding:"0 0 0 20px"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:16}},[a("inprogressChart",{ref:"inprogressChart"})],1),t._v(" "),a("el-col",{ref:"burndownChartContainer",attrs:{span:8}},[a("inprogressCard",{attrs:{sprintid:t.burndownSprintid,chartheight:184},on:{cardclicked:t.showBurndown}})],1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("worklog-chart",{ref:"worklogChartRef",on:{updatepints:t.fetchData}})],1)],1),t._v(" "),a("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("line-chart",{ref:"historyChartRef"})],1)],1),t._v(" "),a("breakdown-layer",{attrs:{layerdisplay:t.dialogDisplay,sprintid:t.burndownSprintid}})],1)},staticRenderFns:[]};var E=function(t){a("cG39")},G=a("VU/8")(V.a,R,!1,E,"data-v-451b8814",null).exports,H=a("8HoS"),T=a("Icdr");a("XLwt");var j={data:function(){return{sprintinfo:{},jql:""}},mounted:function(){var t=this;this.myChart=T.init(document.getElementById("estimationChart")),this.myChart.on("click",function(e){t.jql&&"click"===e.type&&"Estimated"===e.seriesName&&e.data.name&&"bar"===e.seriesType&&window.open("https://jira.successfactors.com/issues/?jql=assignee="+e.data.name+" AND "+t.jql.replace("story","Sub-task"))}),this.myChart.setOption({title:{text:"Estimation Overview"},tooltip:{show:!0,trigger:"item"},legend:{show:!0,data:["Capacity","Estimated"]},toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar","stack","tiled"],title:{line:"line",bar:"bar",stack:"stack",tiled:"tiled"}}}},calculable:!0,yAxis:{type:"value",name:"Hours",axisLabel:{formatter:"{value}"}},xAxis:{type:"category",data:[],axisLabel:{interval:0}},series:[{name:"Capacity",type:"bar",stack:"Capacity",itemStyle:{normal:{borderRadius:5,color:"rgb(230, 162, 60)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:[],markLine:{data:[{type:"average",name:"平均值"}]}},{name:"Estimated",type:"bar",itemStyle:{normal:{borderRadius:5,color:"rgb(64, 158, 255)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:[],markLine:{data:[{type:"average",name:"Average"}]}}]})},methods:{fetchData:function(t,e){if(this.sprintinfo=e,!this.sprintinfo._id)return this.setData({resData:{data:{}}}),!1;var a=v.a.service({fullscreen:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",text:"Loading..."}),s=this,i="refresh="+(t||"")+"&sprintid="+(this.sprintinfo._id||"")+"&start="+(this.sprintinfo.start||"")+"&end="+(this.sprintinfo.end||"")+"&module="+window.localStorage.getItem("module");this.axios.get("/admin/planning/estimation?"+i).then(function(e){"y"===t&&s.$emit("updatepints"),a.close(),"success"===e.data.status?(s.setData(e.data),s.$root.eventHub.$emit("updatePercentage",{percentage:s.computePercentage(e.data)})):s.$message({message:e.data.resMsg,type:e.data.status})}).catch(function(t){console.log(t),s.$message({message:"Data request failed!",type:"error"})})},computePercentage:function(t){var e=0,a=0;for(var s in t.capacity)e+=t.capacity[s];if(t.resData&&t.resData.data)for(var i in t.resData.data)a+=t.resData.data[i].leftEstimate;return Math.ceil((a/3600||0)/(e||1)*100)},refresh:function(t){this.fetchData("y",t)},setData:function(t){var e=t.resData&&t.resData.data||{};this.jql=t.jql;var a=t.capacity||{},s=t.usermap||{},i=t.inummap||{},r=[],o=[],n=[];for(var l in e)r.push(s[l]||l),o.push({name:i[l],value:a[l]}),n.push({name:i[l],value:e[l].leftEstimate/3600});for(var c in s)e[c]||(r.push(s[c]||c),o.push({name:i[c],value:a[c]}),n.push({name:i[c],value:0}));this.myChart.setOption({xAxis:{type:"category",data:r,axisLabel:{interval:0}},series:[{name:"Capacity",type:"bar",stack:"Capacity",data:o,itemStyle:{normal:{borderRadius:5,color:"rgb(230, 162, 60)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}}},{name:"Estimated",type:"bar",itemStyle:{normal:{borderRadius:5,color:"rgb(64, 158, 255)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:n}]})}}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-card",{staticClass:"box-card"},[e("div",{staticStyle:{height:"400px"},attrs:{id:"estimationChart"}})])],1)},staticRenderFns:[]},O=a("VU/8")(j,N,!1,null,null,null).exports,Y=a("Dxvo"),B={data:function(){return{sprintinfo:""}},beforeRouteUpdate:function(t,e,a){a(this.fetchData())},beforeRouteEnter:function(t,e,a){a(function(t){t.fetchData()})},methods:{fetchData:function(){var t=this;if(!window.localStorage.getItem("module")||!window.localStorage.getItem("sprint"))return!1;this.axios.get("/admin/planning?module="+window.localStorage.getItem("module")+"&sprintid="+window.localStorage.getItem("sprint")).then(function(e){"success"===e.data.status?(t.sprintinfo=e.data.resData,t.sprintinfo.totalpoints=e.data.totalPoints,t.$refs.estimationChartRef.fetchData("",t.sprintinfo),t.$refs.historyChartRef.fetchData("",t.sprintinfo)):t.$message({message:e.data.resMsg,type:e.data.status})}).catch(function(e){console.log(e),t.$message({message:"Data error!",type:"error"})})},refreshData:function(){this.$refs.estimationChartRef.refresh(this.sprintinfo)}},components:{numberCard:H.a,estimationChart:O,historyChart:Y.a}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-aside",{attrs:{width:"300px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card rowMargin"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"font"},[a("el-tag",[t._v(t._s(t.sprintinfo.status&&t.sprintinfo.status.toUpperCase()))])],1),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.refreshData}},[t._v("Refresh")])],1),t._v(" "),a("el-form",{staticClass:"demo-table-expand",attrs:{inline:"","label-position":"left"}},[a("el-form-item",{attrs:{label:"Release:"}},[a("span",[t._v(t._s(t.sprintinfo.release))])]),t._v(" "),a("el-form-item",{attrs:{label:"Sprint:"}},[a("span",[t._v(t._s(t.sprintinfo.sprint))])]),t._v(" "),a("el-form-item",{attrs:{label:"Start:"}},[a("span",[t._v(t._s(t.sprintinfo.start))])]),t._v(" "),a("el-form-item",{attrs:{label:"End:"}},[a("span",[t._v(t._s(t.sprintinfo.end))])])],1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("number-card",{attrs:{label:"Total Points",value:t.sprintinfo.totalpoints,unit:"points",bkcolor:"#409EFF"}})],1)],1),t._v(" "),a("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("number-card",{attrs:{label:"Total Days",value:t.sprintinfo.workdays&&t.sprintinfo.workdays.length||0,unit:"days",bkcolor:"#67C23A"}})],1)],1)],1),t._v(" "),a("el-main",{staticStyle:{padding:"0 20px"}},[a("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("estimation-chart",{ref:"estimationChartRef",on:{updatepints:t.fetchData}})],1)],1)],1)],1),t._v(" "),a("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("history-chart",{ref:"historyChartRef",attrs:{sprintinfo:t.sprintinfo}})],1)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(B,U,!1,function(t){a("s9ae")},"data-v-5730abdc",null).exports,X={data:function(){return{options:[{value:"initial",label:"Initial"},{value:"ready_for_testing",label:"Ready for Testing"},{value:"done",label:"Done"}],groupList:[],popupVisible:!1,deleteVisible:!1,form:{},title:"Add Group",deleteObjId:""}},methods:{fetchData:function(){var t=this,e=window.localStorage.getItem("module");if(!e)return!1;this.axios.get("/admin/groups/"+e).then(function(e){"success"===e.data.status?t.groupList=e.data.resData:t.$message({message:e.data.resMsg,type:"error"})}).catch(function(e){console.log(e),t.$message({message:"Data fetch failed!",type:"error"})})},handleClick:function(t,e){"edit"===e?(this.title="Add Group",this.form=t,this.popupVisible=!0):"add"===e?(this.title="Edit Group",this.form={grouppointstatus:[]},this.popupVisible=!0):"delete"===e&&(this.deleteVisible=!0,this.deleteObjId=t._id)},handleEdit:function(t){var e=this;this.form._id?this.axios.put("/admin/groups?module="+window.localStorage.getItem("module"),this.form).then(function(t){"success"===t.data.status?(e.groupList=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.popupVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed!",type:"error"})}):(this.form.module=window.localStorage.getItem("module"),this.axios.post("/admin/groups?module="+window.localStorage.getItem("module"),this.form).then(function(t){"success"===t.data.status?(e.groupList=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.popupVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed!",type:"error"})}))},handleDelete:function(t){var e=this;this.axios.delete("/admin/groups?objid="+this.deleteObjId+"&module="+window.localStorage.getItem("module")).then(function(t){"success"===t.data.status?(e.groupList=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.deleteVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed!",type:"error"})})}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Groups Management (Optional)")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.handleClick({},"add")}}},[t._v("Add Group")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.groupList,fit:""}},[a("el-table-column",{attrs:{label:"Name",prop:"groupname"}}),t._v(" "),a("el-table-column",{attrs:{label:"Category",prop:"groupcategory"}}),t._v(" "),a("el-table-column",{attrs:{label:"Description",prop:"description"}}),t._v(" "),a("el-table-column",{attrs:{label:"Trigger"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.grouppointstatus.join("/"))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit-outline"},on:{click:function(a){return t.handleClick(e.row,"edit")}}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.handleClick(e.row,"delete")}}})],1)]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.popupVisible,width:"30%",center:""},on:{"update:visible":function(e){t.popupVisible=e}}},[a("span",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:t.form.groupname,callback:function(e){t.$set(t.form,"groupname",e)},expression:"form.groupname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Category"}},[a("el-input",{model:{value:t.form.groupcategory,callback:function(e){t.$set(t.form,"groupcategory",e)},expression:"form.groupcategory"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trigger"}},[a("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:t.form.grouppointstatus,callback:function(e){t.$set(t.form,"grouppointstatus",e)},expression:"form.grouppointstatus"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.popupVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("Save")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"Delete Confirm?",visible:t.deleteVisible,width:"30%"},on:{"update:visible":function(e){t.deleteVisible=e}}},[a("span",[t._v("Are you sure you want to delete?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleDelete}},[t._v("Confirm")])],1)])],1)},staticRenderFns:[]},z={props:["configObj"],data:function(){return{itemList:[],popupVisible:!1,deleteVisible:!1,form:{},title:"Add "+this.configObj.name,deleteObjId:""}},methods:{fetchData:function(){var t=this,e=window.localStorage.getItem("module");if(!e)return!1;this.axios.get(this.configObj.path+e).then(function(e){"success"===e.data.status?t.itemList=e.data.resData:t.$message({message:e.data.resMsg,type:"error"})}).catch(function(e){console.log(e),t.$message({message:"Data fetch failed!",type:"error"})})},handleClick:function(t,e){"edit"===e?(this.title="Add "+this.configObj.name,this.form=t,this.popupVisible=!0):"add"===e?(this.title="Edit "+this.configObj.name,this.form={grouppointstatus:[]},this.popupVisible=!0):"delete"===e&&(this.deleteVisible=!0,this.deleteObjId=t._id)},handleEdit:function(t){var e=this;this.form._id?this.axios.put(this.configObj.path+"?module="+window.localStorage.getItem("module"),this.form).then(function(t){"success"===t.data.status?(e.itemList=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.popupVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed!",type:"error"})}):(this.form.module=window.localStorage.getItem("module"),this.axios.post(this.configObj.path+"?module="+window.localStorage.getItem("module"),this.form).then(function(t){"success"===t.data.status?(e.itemList=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.popupVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed!",type:"error"})}))},handleDelete:function(t){var e=this;this.axios.delete(this.configObj.path+"?objid="+this.deleteObjId+"&module="+window.localStorage.getItem("module")).then(function(t){"success"===t.data.status?(e.itemList=t.data.resData,e.$message({message:t.data.resMsg,type:t.data.status}),e.deleteVisible=!1):e.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),e.$message({message:"Data fetched failed!",type:"error"})})}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.configObj.title))]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.handleClick({},"add")}}},[t._v("Add "+t._s(t.configObj.name))])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.itemList,fit:""}},[t._l(t.configObj.columns,function(t){return a("el-table-column",{key:t.domKey,attrs:{label:t.label,prop:t.key}})}),t._v(" "),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit-outline"},on:{click:function(a){return t.handleClick(e.row,"edit")}}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.handleClick(e.row,"delete")}}})],1)]}}])})],2)],1),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.popupVisible,width:"30%",center:""},on:{"update:visible":function(e){t.popupVisible=e}}},[a("span",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},t._l(t.configObj.columns,function(e){return a("el-form-item",{key:e.domKey,attrs:{label:e.label}},[a("el-input",{model:{value:t.form[e.key],callback:function(a){t.$set(t.form,e.key,a)},expression:"form[value.key]"}})],1)}),1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.popupVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("Save")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"Delete Confirm?",visible:t.deleteVisible,width:"30%"},on:{"update:visible":function(e){t.deleteVisible=e}}},[a("span",[t._v("Are you sure you want to delete?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleDelete}},[t._v("Confirm")])],1)])],1)},staticRenderFns:[]},K={data:function(){return{configObj:{title:"User Map (Optional)",name:"User Map",path:"/admin/usermaps/",columns:[{label:"User Id",key:"userid",domKey:(new Date).valueOf()+Math.random()},{label:"Emp Id",key:"employeeid",domKey:(new Date).valueOf()+Math.random()},{label:"Name",key:"displayname",domKey:(new Date).valueOf()+Math.random()},{label:"Capacity",key:"capacity",domKey:(new Date).valueOf()+Math.random()}]}}},created:function(){},beforeRouteUpdate:function(t,e,a){a(this.refreshData())},beforeRouteEnter:function(t,e,a){a(function(t){t.refreshData()})},methods:{refreshData:function(){this.$refs.groupCard.fetchData(),this.$refs.tableComp.fetchData()}},components:{groupCard:a("VU/8")(X,W,!1,null,null,null).exports,tableComp:a("VU/8")(z,J,!1,null,null,null).exports}},Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",{staticClass:"rowMargin",attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("group-card",{ref:"groupCard"})],1),this._v(" "),e("el-col",{attrs:{span:12}},[e("table-comp",{ref:"tableComp",attrs:{configObj:this.configObj}})],1)],1)],1)},staticRenderFns:[]};var Z=a("VU/8")(K,Q,!1,function(t){a("7RTq")},"data-v-4048d584",null).exports,tt={data:function(){return{jql:window.localStorage.getItem("checkJql")||"",storyList:[],filter:[],statistic:[]}},methods:{fetchData:function(){window.localStorage.setItem("checkJql",this.jql);var t=this;if(!this.jql)return this.$message({message:"Please input jql!",type:"error"}),!1;this.statistic=[];var e=v.a.service({fullscreen:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",text:"Loading..."});this.axios.post("/admin/tools/checkstory",{module:window.localStorage.getItem("module"),jql:this.jql}).then(function(a){if("success"===a.data.status){for(var s in t.storyList=a.data.resData.list||[],a.data.resData.modules)t.filter.push({text:s,value:s});var i=a.data.resData.modules;for(var r in i)i[r]=t.storyList.filter(function(t){return-1!==t.key.indexOf(r)}).length;for(var o in i)t.statistic.push({label:o,count:i[o]})}else t.$message({message:a.data.resMsg,type:a.data.status});e.close()}).catch(function(a){e.close(),console.log(a),t.$message({message:"Data fetched failed, try again later!",type:"error"})})},filterHandler:function(t,e,a){return-1!==e.key.indexOf(t)},formatter:function(t,e,a){return(0,this.$createElement)("a",{attrs:{href:"https://jira.successfactors.com/browse/"+a,target:"_blank"}},[a])}}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:4}},[t._v("JQL for Stories")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"JQL for stories"},model:{value:t.jql,callback:function(e){t.jql=e},expression:"jql"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.fetchData}},[t._v("Check")])],1)],1),t._v(" "),a("el-row",{staticStyle:{margin:"20px"}},t._l(t.statistic,function(e){return a("el-col",{key:e.label,attrs:{span:2}},[a("el-badge",{staticClass:"item",attrs:{value:e.count}},[a("el-button",{attrs:{type:"warning",plain:"",size:"mini",round:""}},[t._v(t._s(e.label))])],1)],1)}),1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.storyList}},[a("el-table-column",{attrs:{prop:"type",align:"left",label:"Type"}}),t._v(" "),a("el-table-column",{attrs:{prop:"key",label:"Key",sortable:"",align:"left",formatter:t.formatter,filters:t.filter,"filter-method":t.filterHandler}}),t._v(" "),a("el-table-column",{attrs:{prop:"summary",width:"400",align:"left",label:"Summary"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",align:"left",label:"Status"}}),t._v(" "),a("el-table-column",{attrs:{prop:"assignee",align:"left",label:"Assignee"}})],1)],1)],1)],1)},staticRenderFns:[]};var at={data:function(){return{jql:window.localStorage.getItem("checkEpicJql")||"",epicList:[],filter:[],statistic:[]}},methods:{fetchData:function(){window.localStorage.setItem("checkEpicJql",this.jql);var t=this;if(!this.jql)return this.$message({message:"Please input jql!",type:"error"}),!1;this.statistic=[];var e=v.a.service({fullscreen:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",text:"Loading..."});this.axios.post("/admin/tools/checkepic",{module:window.localStorage.getItem("module"),jql:this.jql}).then(function(a){if("success"===a.data.status){for(var s in t.epicList=a.data.resData.list||[],a.data.resData.modules)t.filter.push({text:s,value:s});var i=a.data.resData.modules;for(var r in i)i[r]=t.epicList.filter(function(t){return-1!==t.key.indexOf(r)}).length;for(var o in i)t.statistic.push({label:o,count:i[o]})}else t.$message({message:a.data.resMsg,type:a.data.status});e.close()}).catch(function(a){e.close(),console.log(a),t.$message({message:"Data fetched failed, try again later!",type:"error"})})},filterHandler:function(t,e,a){return-1!==e.key.indexOf(t)},formatter:function(t,e,a){return(0,this.$createElement)("a",{attrs:{href:"https://jira.successfactors.com/browse/"+a,target:"_blank"}},[a])}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:4}},[t._v("JQL for Opened Epics")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"JQL for epics"},model:{value:t.jql,callback:function(e){t.jql=e},expression:"jql"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.fetchData}},[t._v("Check")])],1)],1),t._v(" "),a("el-row",{staticStyle:{margin:"20px"}},t._l(t.statistic,function(e){return a("el-col",{key:e.label,attrs:{span:2}},[a("el-badge",{staticClass:"item",attrs:{value:e.count}},[a("el-button",{attrs:{type:"warning",plain:"",size:"mini",round:""}},[t._v(t._s(e.label))])],1)],1)}),1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.epicList}},[a("el-table-column",{attrs:{prop:"type",align:"left",label:"Type"}}),t._v(" "),a("el-table-column",{attrs:{prop:"key",label:"Key",sortable:"",align:"left",formatter:t.formatter,filters:t.filter,"filter-method":t.filterHandler}}),t._v(" "),a("el-table-column",{attrs:{prop:"summary",width:"400",align:"left",label:"Summary"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",align:"left",label:"Status"}}),t._v(" "),a("el-table-column",{attrs:{prop:"assignee",align:"left",label:"Assignee"}})],1)],1)],1)],1)},staticRenderFns:[]};var it={data:function(){return{activeTab:"checkstories"}},components:{storyCheck:a("VU/8")(tt,et,!1,function(t){a("mw9/")},"data-v-7a562a04",null).exports,epicCheck:a("VU/8")(at,st,!1,function(t){a("XqCg")},"data-v-bc611326",null).exports}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{key:"checkstories",attrs:{label:"Opened Stories Check",name:"checkstories"}},[a("story-check")],1),t._v(" "),a("el-tab-pane",{key:"checkepics",attrs:{label:"Opened Epics Check",name:"checkepics"}},[a("epic-check")],1)],1)],1)},staticRenderFns:[]};var ot=a("VU/8")(it,rt,!1,function(t){a("Jw+w")},"data-v-754f73c3",null).exports,nt=a("wUZ8"),lt=a.n(nt);r.default.use(i.a,{locale:lt.a}),r.default.use(p.a),r.default.use(i.a);var ct=new p.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"home",component:S,children:[{path:"/dashboard/:pageid",component:G},{path:"/planning/:pageid",component:q},{path:"/story/:sprintid",component:M},{path:"/configuration/:pageid",component:Z},{path:"/checktools/:pageid",component:ot}],meta:{requiresAuth:!0}},{path:"/admin/login",name:"login",component:L}]});a("nf3R"),a("LFel");r.default.config.productionTip=!1,r.default.use(c.a,u.a),r.default.use(i.a),r.default.prototype.$ELEMENT={size:"medium"};var dt=new r.default;new r.default({el:"#app",router:ct,template:"<App/>",components:{App:n},data:{eventHub:dt,sprintSelected:null,allGroups:[],summary:null,module:window.localStorage.getItem("module"),sprintid:window.localStorage.getItem("sprint")},methods:{querySummaryData:function(t){var e=this;this.summary=null,this.allGroups=[];var a=t._id,s=window.localStorage.getItem("module");this.axios.get("/api/v1/getGroups?sprintid="+a).then(function(t){e.allGroups=t.data.resData,e.axios.get("/api/v1/summary?sprintid="+a+"&module="+s).then(function(t){e.summary=t.data.resData,e.eventHub.$emit("sprintChanged",t.data)})})},getDayDataDay:function(t,e){for(var a=null,s=0;s<e.summary.length;s++){var i=e.summary[s];if(i.day===t){a=i;break}}return a}},created:function(){this.eventHub},watch:{sprintSelected:function(){}}})},Nbcf:function(t,e,a){"use strict";var s=a("mvHQ"),i=a.n(s),r=a("wTzg"),o={props:{dialogDisplay:{type:Boolean,default:!0},userStoryId:String,day:Number,group:String},data:function(){return{groupList:[],dialogVisible:!1,tableData:[],dialogTitle:"",allGroups:null,summary:null}},methods:{tableRowClassName:function(t){var e=t.row;t.rowIndex;return"block"===e.category?"block":"followup"===e.category?"followup":""},getRootData:function(){this.groupList=this.allGroups;var t=this.$root.getDayDataDay(parseInt(this.day),this.summary),e=[],a=[this.group];if(""===this.group){var s=this.allGroups;a=[];for(var i=0;i<s.length;i++)a.push(s[i].groupname)}for(var r=0;r<a.length;r++){var o=a[r],n=t.groups[o];if(null==n)return;var l=n.blocker,c=n.followup;if(null!=l)for(var d=0;d<l.length;d++){var u=l[d];u.storyid===this.userStoryId&&e.push(u)}if(null!=c)for(var p=0;p<c.length;p++){var h=c[p];h.storyid===this.userStoryId&&e.push(h)}}for(var m=0;m<e.length;m++){for(var f=e[m],g=f.issuegroup,v="",y=0;y<g.length;y++){v=v+" "+g[y].groupname}f.issuegroupStr=v}this.tableData=e;for(var b=0;b<this.summary.storyList.length;b++){var w=this.summary.storyList[b];if(w._id===this.userStoryId){this.dialogTitle="View Story Issues for "+w.storykey;break}}},getDayBlockSummary:function(t,e,a,s,i,r,o){this.summary=o,this.allGroups=r}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getDaySummary",this.getDayBlockSummary)},mounted:function(){},watch:{dialogDisplay:function(){null!=this.dialogDisplay&&(this.dialogVisible=this.dialogDisplay)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"viewIssuesDialogContainer"},[a("div",{staticClass:"viewIssuesContainer"},[a("el-dialog",{staticClass:"addPointDialog",attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%"},on:{"update:title":function(e){t.dialogTitle=e},"update:visible":function(e){t.dialogVisible=e},open:t.getRootData}},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"issuekey",label:"Issue Key",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"Category"}}),t._v(" "),a("el-table-column",{attrs:{prop:"issuegroupStr",label:"Group",width:"180"}})],1)],t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")])],1)],2)],1)])},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("iGCG")},null,null).exports,c={components:{"add-block-dialog":r.a,"view-issues-dialog":l},data:function(){return{group:"",reduceCount:0,addCount:0,removedCount:0,currentPoint:0,previousPoint:0,changedItems:[],inProgressItems:[],isShowAllProcessingItem:!0,dialogDisplay:!1,defaultAddIssueValues:{},addIssueCategory:"block",currentSelectedUserStoryId:"",currentSelectedDay:0,viewIssueDialogDisplay:!1,isLastDay:!1,allGroups:null,summary:null}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getDaySummary",this.getDayStorySummary)},mounted:function(){},methods:{addIssue:function(t,e){this.dialogDisplay=!0,this.defaultAddIssueValues.biSelected={storykey:e.storykey,_id:e._id};for(var a=this.allGroups,s=null,i=0;i<a.length;i++){var r=a[i];if(this.group===r.groupname){s=r;break}}if(null!==s){this.defaultAddIssueValues.issueGroup={groupname:s.groupname,_id:s._id};var o=this;setTimeout(function(){o.dialogDisplay=null}),this.addIssueCategory=t}},viewIssues:function(t){var e=this;this.currentSelectedUserStoryId=t._id,this.viewIssueDialogDisplay=!0,setTimeout(function(){e.viewIssueDialogDisplay=null})},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.AddStory||e.RemovedRedStory?"blockContent":"successContent"},getDayStorySummary:function(t,e,a,s,i,r,o){this.summary=o,this.allGroups=r,o.summary.length-1===t?this.isLastDay=!0:this.isLastDay=!1,this.currentSelectedDay=t,this.group=e;var n=[e];if(""===e){n=[];for(var l=0;l<r.length;l++)n.push(r[l].groupname)}for(var c=0,d=0,u=0,p=0,h=0;h<n.length;h++){var m=n[h],f=a.groups[m],g=s.groups[m];u+=f.points.red,c+=f.currentPoint,d+=g.currentPoint,p+=this._getNewlyAddedPoints(a.storyList,m)}this.reduceCount=u,this.addCount=p,this.currentPoint=c,this.previousPoint=d,this.getChangedItems(t,n,a),this.getInProgressItems(a,n)},_getNewlyAddedPoints:function(t,e){for(var a=0,s=0;s<t.length;s++)for(var i=t[s],r=i.AddStory,o=i.points,n=i.ingroup,l=0;l<n.length;l++){if(n[l].groupname===e&&!0===r){a+=o;break}}return a},_searchStoryInList:function(t,e){for(var a=0;a<t.length;a++){var s=t[a];if(s._id===e._id)return s}return null},_getTodayRemovedFromRedStory:function(t,e,a){for(var s=this.$root.getDayDataDay(a,this.summary).storyList,i=[],r=t.points.redStorys,o=e.points.redStorys,n=0,l=0;l<o.length;l++){var c=o[l];if(!this._searchStoryInList(r,c)){var d=this._searchStoryInList(s,c);this._searchStoryInList(i,d)||(d.RemovedRedStory=!0,n+=d.points,i.push(d))}}return this.reduceCount=this.reduceCount-n,this.removedCount=n,i},prepareDataForGroupWorkingStatus:function(){for(var t=this.allGroups,e={},a=0;a<t.length;a++){var s=t[a],i=s.groupname,r=s.groupworkingstatus;void 0===e[i]&&(e[i]={});for(var o=0;o<r.length;o++){var n=r[o];e[i][n]=!0}}return e},getInProgressItems:function(t,e){for(var a=[],s=0;s<e.length;s++)for(var r=e[s],o=t.storyList,n=this.prepareDataForGroupWorkingStatus(),l=0;l<o.length;l++){var c=JSON.parse(i()(o[l])),d=c.status,u=c.storykey,p=c._id,h=this._getIssueCount(t,p,e).length;null!=n[r]&&void 0!==n[r][d]&&(c.displayStoryKey=u+" ("+h+")",c.storyIssueCount=h,a.push(c))}this.inProgressItems=a},_getIssueCount:function(t,e,a){this.groupList=this.allGroups;var s=[],i=[this.group];if(""===this.group){var r=this.allGroups;i=[];for(var o=0;o<r.length;o++)i.push(r[o].groupname)}for(var n=0;n<i.length;n++){var l=i[n],c=t.groups[l];if(null==c)return;var d=c.blocker,u=c.followup;if(null!=d)for(var p=0;p<d.length;p++){var h=d[p];h.storyid===e&&s.push(h)}if(null!=u)for(var m=0;m<u.length;m++){var f=u[m];f.storyid===e&&s.push(f)}}return s},_isStoryInList:function(t,e){for(var a=0;a<t.length;a++){if(t[a]._id===e._id)return!0}return!1},getChangedItems:function(t,e,a){var s=[],r=a.storyList,o=a;t>0&&(o=this.$root.getDayDataDay(t-1,this.summary));for(var n=0;n<e.length;n++){var l=e[n],c=a.groups[l].points.redStorys,d=t;t>0&&(d=t-1);for(var u=this.$root.getDayDataDay(d,this.summary).groups[l].points.redStorys,p=0;p<c.length;p++){var h=JSON.parse(i()(c[p]));h.isRed=!0;var m=h._id;if(0===u.length)s.push(h);else{for(var f=!1,g=0;g<u.length;g++){if(m===u[g]._id){f=!0;break}}f||s.push(h)}}for(var v=[],y=0;y<r.length;y++)for(var b=r[y],w=b.AddStory,_=b.ingroup,C=0;C<_.length;C++){if(_[C].groupname===l&&!0===w&&!this._isStoryInList(v,b)){v.push(b);break}}s=s.concat(v);for(var x=o.groups[l],k=a.groups[l],S=this._getTodayRemovedFromRedStory(k,x,t),D=0;D<S.length;D++){var I=S[D];S.length>0&&!this._isStoryInList(s,I)&&s.push(I)}}this.changedItems=s}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pointInfoContainer"},[a("add-block-dialog",{attrs:{dialogDisplay:t.dialogDisplay,defaultValues:t.defaultAddIssueValues,category:t.addIssueCategory}}),t._v(" "),a("view-issues-dialog",{attrs:{dialogDisplay:t.viewIssueDialogDisplay,group:t.group,userStoryId:t.currentSelectedUserStoryId,day:t.currentSelectedDay}}),t._v(" "),a("el-header",{staticClass:"pointStatus",staticStyle:{height:"40px"}},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Point Status")])]),t._v(" "),a("el-col",{attrs:{span:6}})],1)],1),t._v(" "),a("el-main",{staticStyle:{padding:"0"}},[a("div",{staticClass:"pointChangedHis"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:9}},[a("i",{staticClass:"el-icon-caret-bottom successContent"}),t._v(" "),a("span",{staticClass:"successContent"},[t._v(t._s(t.reduceCount))])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("i",{staticClass:"el-icon-caret-top blockContent"}),t._v(" "),a("span",{staticClass:"blockContent"},[t._v(t._s(t.removedCount)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.addCount>0,expression:"addCount > 0"}],staticClass:"minFontSize"},[t._v("("+t._s(t.addCount)+")")])])])],1),t._v(" "),a("el-row",{staticClass:"row-bg",staticStyle:{height:"30px","line-height":"30px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"pointInfoTitle listItem"},[t._v("Today Points:")])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("span",{staticClass:"pointContent"},[t._v(t._s(t.currentPoint)+" points")])])],1),t._v(" "),a("el-row",{staticClass:"row-bg",staticStyle:{height:"30px","line-height":"30px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Last Day Points:")])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("span",{staticClass:"successContent"},[t._v(t._s(t.previousPoint)+" points")])])],1)],1),t._v(" "),a("div",{staticClass:"pointChangedItem"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:21}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Changed Items  ( "+t._s(t.changedItems.length)+" )")])])],1),t._v(" "),a("el-table",{staticClass:"changeItemTab",staticStyle:{width:"100%"},attrs:{data:t.changedItems,"show-header":!1,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"storykey",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("a",{attrs:{target:"_blank",href:"https://jira.successfactors.com/browse/"+e.row.storykey}},[t._v(" "+t._s(e.row.storykey)+" ")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"points",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status"}})],1)],1),t._v(" "),a("div",{staticClass:"workingInProgressItem"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:10}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Processing Items  ( "+t._s(t.inProgressItems.length)+" )")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("Show")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.isShowAllProcessingItem,callback:function(e){t.isShowAllProcessingItem=e},expression:"isShowAllProcessingItem"}})],1)],1),t._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:t.isShowAllProcessingItem,expression:"isShowAllProcessingItem"}],staticClass:"changeItemTab",staticStyle:{width:"100%"},attrs:{data:t.inProgressItems,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("a",{attrs:{target:"_blank",href:"https://jira.successfactors.com/browse/"+e.row.storykey}},[t._v(t._s(e.row.storykey))]),t._v(" "),e.row.storyIssueCount>0?a("span",{staticClass:"boldFont"},[t._v(" ("+t._s(e.row.storyIssueCount)+") ")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"points",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{ref:"storyFunction",attrs:{placement:"bottom",width:"200",trigger:"click","popper-class":"popoverMinWidth"}},[a("el-row",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.viewIssues(e.row)}}},[t._v("View issues")])],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isLastDay,expression:"isLastDay"}]},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.addIssue("block",e.row)}}},[t._v("Add a block")])],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isLastDay,expression:"isLastDay"}]},[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.addIssue("followup")}}},[t._v("Add a followup")])],1)],1),t._v(" "),a("span",{directives:[{name:"popover",rawName:"v-popover:storyFunction",arg:"storyFunction"}]},[t._v(t._s(e.row.status))])]}}])})],1)],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("MgfR")},null,null);e.a=u.exports},PcBk:function(t,e){},PgxZ:function(t,e){},Q2vG:function(t,e){},QK9P:function(t,e,a){"use strict";(function(t){var s=a("e30+");function i(t,e,a,s,i){this.settings=i,this.groups={},this.points=[],this.groupVisible={},this.currentActivePoint=null,this.createInitialDom(t),this.init(e,a,s)}i.prototype=new s.a,i.prototype.getGroupsData=function(){return this.groups},i.prototype.createInitialDom=function(e){this.ele=t('<div class="chartMain" style="display:inline-block">  <div class="chartTitle" style="font-size: 25px;text-align:center;margin-bottom:15px;">    Chart Title  </div>  <div style="display:inline-flex;">    <div class="axisYText" style="display:inline-block;min-width:30px;position:relative;">    </div>    <div>      <div class="chart" style="position: relative;display:inline-block;">        <div class="axisArea" style="position:absolute;left:0px;top:0px;">          <div class="axisX" style="position: absolute;border-top:1px solid black;">          </div>          <div class="axisY" style="position: absolute;border-left:1px solid black;">          </div>        </div>        <div class="chartArea" style="position:absolute;">        </div>      </div>      <div class="axisXText" style="position:relative;min-height:40px;"></div>    </div>  </div>  <div class="chartBar" style="display: flex;justify-content:space-evenly;">  </div></div>'),t(e).append(this.ele)},i.colors={},i.colors.lightblue="rgba(84, 158, 248, 0.9)",i.colors.lightgreen="rgba(124, 191, 80, 0.9)",i.colors.lightred="#d18080",i.colors.lightpurple="#af7db0",i.prototype.init=function(e,a,s){var i=this;this.fireEvent("beforeChartInitial"),t(this.ele).find(".axisYText").empty(),t(this.ele).find(".axisX").empty(),t(this.ele).find(".axisY").empty(),t(this.ele).find(".chartArea").empty(),t(this.ele).find(".axisXText").empty(),t(this.ele).find(".chartTitle").empty(),t(this.ele).find(".chartBar").empty(),this.addPopoverContainer(),this.chartHeight=a,this.chartWidth=e,this.axisLength=5,this.axisTextHeight=15,this.axisXGapCount=10,this.axisYGapCount=10,this.minXGap=25,this.minYGap=30,this.maxXValue=10,s&&s>1&&(this.maxXValue=s),this.maxYValue=20,this.chartAreaWidth=this.chartWidth,this.chartAreaHeight=this.chartHeight,this.axisAreaWidth=this.chartWidth+this.axisLength,this.axisAreaHeight=this.chartHeight+this.axisLength,this.chartHeight=this.axisAreaHeight,this.chartWidth=this.axisAreaWidth,this.axis={x:[],y:[]},this.eachNumberXGap=this.chartAreaWidth/this.maxXValue*.9,this.eachNumberYGap=this.chartAreaHeight/this.maxYValue*.9,this.numberUnderEachXGap=Math.ceil(this.minXGap/this.eachNumberXGap),this.numberUnderEachYGap=Math.ceil(this.minYGap/this.eachNumberYGap),this.axisXGap=this.numberUnderEachXGap*this.eachNumberXGap,this.axisYGap=this.numberUnderEachYGap*this.eachNumberYGap,this.axisXGapCount=Math.ceil(this.chartAreaWidth/this.axisXGap),this.axisYGapCount=Math.ceil(this.chartAreaHeight/this.axisYGap),this.pointHeight=10,this.pointWidth=10,this.pointColor="red",this.lineHeight=2,this.settings&&this.settings.pointHeight&&(this.pointHeight=this.settings.pointHeight),this.settings&&this.settings.pointWidth&&(this.pointWidth=this.settings.pointWidth),this.settings&&this.settings.pointColor&&(this.pointColor=this.settings.pointColor),this.settings&&this.settings.lineHeight&&(this.lineHeight=this.settings.lineHeight),t(this.ele).find(".chart").width(this.axisAreaWidth).height(this.axisAreaHeight),t(this.ele).find(".chart .chartArea").width(this.chartAreaWidth).height(this.chartAreaHeight).css("left",this.axisLength+"px").css("top","0px"),t(this.ele).find(".axisYText").height(this.chartAreaHeight),t(this.ele).find(".axisXText").width(this.chartAreawidth),this.fireEvent("beforeChartAxisInitial"),this.addAxisX(),this.addAxisY(),this.fireEvent("afterChartAxisInitial"),this.fireEvent("beforeChartAxisGapInitial"),this.updateAxisX(),this.updateAxisY(),this.fireEvent("afterChartAxisInitial"),this.renderBar(),this.fireEvent("afterChartInitial"),t(this.ele).find(".chart").click(function(){i.clearAllClickedPoint(),i.fireEvent("chartClicked",{ele:this,data:this.pointdata})})},i.prototype.destory=function(){t(this.ele).empty()},i.prototype.emptyData=function(){t(this.ele).find(".chart .chartArea").empty(),this.groups={},this.points=[]},i.prototype.clearAllPoint=function(){t(this.ele).find(".chart .chartArea").empty()},i.prototype.addPopoverContainer=function(){if(0===t(this.ele).find(".chart .chartArea .popoverContainer").length){var e=t('<div class="popoverContainer" style="position:absolute;display:none;"><div class="popoverContent">test1818181818</div><div class="calloutpoint"></div></div>');t(this.ele).find(".chart .chartArea").append(e)}},i.prototype.displayPopover=function(e,a,s){t(this.ele).find(".chartArea .popoverContainer .popoverContent").empty(),t(this.ele).find(".chartArea .popoverContainer").fadeIn();var i=t(s);t(this.ele).find(".chartArea .popoverContainer .popoverContent").append(i);var r=e-(t(this.ele).find(".chartArea .popoverContainer").width()/2+10+6),o=a-(t(this.ele).find(".chartArea .popoverContainer").height()+35);t(this.ele).find(".chartArea .popoverContainer").css("left",r+"px").css("top",o+"px")},i.prototype.hidePopover=function(){t(this.ele).find(".chartArea .popoverContainer").hide()},i.prototype.clearAllClickedPoint=function(){if(this.groups)for(var e in this.currentActivePoint=null,this.groups)for(var a=this.groups[e].points,s=0;s<a.length;s++){var i=a[s].ele;t(i).removeClass("pointHighlited")}},i.prototype.updateAxisX=function(){this.fireEvent("beforeUpdateAxisX"),this.removeAxisXGap(),this.eachNumberXGap=this.chartAreaWidth/this.maxXValue*.9,this.numberUnderEachXGap=Math.ceil(this.minXGap/this.eachNumberXGap),this.axisXGap=this.numberUnderEachXGap*this.eachNumberXGap,this.axisXGapCount=Math.ceil(this.chartAreaWidth/this.axisXGap),this.addAxisXGap(),this.fireEvent("afterUpdateAxisX")},i.prototype.updateAxisY=function(){this.fireEvent("beforeUpdateAxisY"),this.removeAxisYGap(),this.eachNumberYGap=this.chartAreaHeight/this.maxYValue*.9,this.numberUnderEachYGap=Math.ceil(this.minYGap/this.eachNumberYGap),this.axisYGap=this.numberUnderEachYGap*this.eachNumberYGap,this.axisYGapCount=Math.ceil(this.chartAreaHeight/this.axisYGap),this.addAxisYGap(),this.fireEvent("afterUpdateAxisY")},i.prototype.addAxisX=function(){var e=this.chartAreaWidth,a=this.axisLength,s=this.chartAreaHeight,i=t(this.ele).find(".chart .axisArea .axisX");i.width(e),i.css("left",a+"px"),i.css("top",s+"px")},i.prototype.removeAxisXGap=function(){t(this.ele).find(".axisX").empty(),t(this.ele).find(".axisXText").empty()},i.prototype.addAxisXGap=function(){for(var e=1;0+e*this.axisXGap<this.chartAreaWidth;){var a=0+this.axisXGap*e,s=t("<div></div>").addClass("chartAxis").css("border-left","1px solid black").height(this.axisLength).css("left",a+"px");t(this.ele).find(".chart .axisArea .axisX").append(s);var i=t("<div></div>").text(this.numberUnderEachXGap*e).addClass("chartAxisText");t(this.ele).find(".axisXText").append(i);var r=a;i.css("left",r+"px"),e++}},i.prototype.addAxisY=function(){var e=this.chartAreaHeight,a=this.axisLength,s=t(this.ele).find(".chart .axisArea .axisY");s.height(e),s.css("left",a+"px"),s.css("top","0px")},i.prototype.addAxisYGap=function(){var e=0,a=e*this.axisYGap,s=this.chartAreaHeight-a;for(e++;s>=0&&(a=e*this.axisYGap,!((s=this.chartAreaHeight-a)<=0));){var i=t("<div></div>").addClass("chartAxis").css("border-top","1px solid black").width(this.axisLength).css("top",s+"px").css("left","-"+this.axisLength+"px");t(this.ele).find(".chart .axisArea .axisY").append(i);var r=t(this.ele).find(".axisYText").width(),o=t("<div></div>").text(this.numberUnderEachYGap*e).addClass("chartAxisText").width(r-5).css("textAlign","right");t(this.ele).find(".axisYText").append(o);var n=s-o.height()/2;o.css("top",n+"px"),e++}},i.prototype.removeAxisYGap=function(){t(this.ele).find(".axisY").empty(),t(this.ele).find(".axisYText").empty()},i.prototype.addGroup=function(e,a){this.fireEvent("beforeAddGroup",{groupid:e,groupsettings:a});var s=null;null==this.groups[e]?(s={},this.groups[e]=s):s=this.groups[e],t.extend(s,a),null==s.points&&(s.points=[]),null==s.lines&&(s.lines=[]),this.fireEvent("afterAddGroup",{groupid:e,groupsettings:a})},i.prototype.reAddAllPoint=function(){for(var e in t(this.ele).find(".chart .chartArea").empty(),this.addPopoverContainer(),this.groups){for(var a=this.groups[e],s=a.points,i=[],r=0;r<s.length;r++){var o=s[r],n=o.extraData,l=o.x,c=o.y,d=this.addPoint(l,c,e,n,!1);i.push(d)}a.points=i}},i.prototype.addPoint=function(e,a,s,i,r){var o=this;this.fireEvent("beforeAddPoint",{x:e,y:a,groupid:s,isAdd:r,pointdata:i}),null==r&&(r=!0);var n=this.groups[s],l=n&&n.points;if(null!=l){l=n.points;var c=e*this.eachNumberXGap,d=a*this.eachNumberYGap,u=c-this.pointWidth/2,p=this.chartAreaHeight-d-this.pointHeight/2,h=n.color,m={idx:l.length,x:e,y:a,positionX:c,positionY:this.chartAreaHeight-d,groupid:s};r&&l.push(m);var f=t("<div></div>").attr("pointid","point_id_"+m.x+"-"+m.y).attr("groupid",s).attr("type","point").addClass("chartPoint").height(this.pointHeight).width(this.pointWidth).css("color",h).css("backgroundColor",h).css("top",p+"px").css("left",u+"px").css("border-radius",this.pointWidth/2+"px");i&&i.cssstyle&&f.css(i.cssstyle),f.click(function(e){var a=t(this).hasClass("pointHighlited");o.fireEvent("pointclicked",{ele:this,data:this.pointdata,isClicked:!a}),a?(t(this).removeClass("pointHighlited"),o.currentActivePoint=null):(t(this).addClass("pointHighlited"),o.currentActivePoint=this.pointdata),e.stopPropagation(),e.stopImmediatePropagation()}).hover(function(t){o.fireEvent("pointhoverenter",{ele:f,point:m,x:e,y:a,groupid:s,isAdd:r,pointdata:i}),t.stopPropagation(),t.stopImmediatePropagation()},function(t){o.fireEvent("pointhoverleave",{ele:f,point:m,x:e,y:a,groupid:s,isAdd:r,pointdata:i}),t.stopPropagation(),t.stopImmediatePropagation()}),m.ele=f,t(this.ele).find(".chart .chartArea").append(f);var g={extraData:i};return t.extend(m,g),f[0].pointdata=m,this.fireEvent("afterAddPoint",{ele:f,point:m,x:e,y:a,groupid:s,isAdd:r,pointdata:i}),m}},i.prototype.addLine=function(e,a,s,i){var r=this;this.fireEvent("beforeAddLine",{point1:e,point2:a,isAdd:i,linedata:s}),null==i&&(i=!0);var o=e.groupid,n=this.groups[o],l=n.color,c=a.ele.attr("pointid"),d=t('<div style="height:'+this.lineHeight+"px;background-color:"+l+";color:"+l+';transform-origin:0% 0%;"></div>').attr("lineid","line_id_"+c).attr("groupid",o).attr("type","line").addClass("chartLines"),u=e.positionX+this.lineHeight/2,p=e.positionY-this.lineHeight/2,h=a.positionX+this.lineHeight/2,m=a.positionY-this.lineHeight/2-p,f=h-u,g=Math.sqrt(m*m+f*f),v=Math.atan(Math.abs(m)/Math.abs(f)),y=180/Math.PI*v;m<0&&(y=-y),d.width(g).css("left",u+"px").css("top",p+"px").css("transform","rotate("+y+"deg)").click(function(t){r.fireEvent("lineclicked",{ele:this,data:this.linedata}),t.stopPropagation(),t.stopImmediatePropagation()}).hover(function(e){t(this).addClass("lineHighlited"),r.fireEvent("linehoverenter",{ele:this,data:this.pointdata}),e.stopPropagation(),e.stopImmediatePropagation()},function(e){t(this).removeClass("lineHighlited"),r.fireEvent("linehoverleave",{ele:this,data:this.pointdata}),e.stopPropagation(),e.stopImmediatePropagation()});var b={startPoint:e,endPoint:a,groupid:o,ele:d};return d[0].linedata=b,i&&n.lines.push(b),t(this.ele).find(".chart .chartArea").append(d),t.extend(b,s),this.fireEvent("afterAddLine",{ele:d,line:b,point1:e,point2:a,isAdd:i,linedata:s}),b},i.prototype.reAddAllGroupLine=function(e){for(var a in t(this.ele).find('.chart .chartArea [type="line"]').remove(),this.groups)this.addAllLine(a,e)},i.prototype.addAllLine=function(t,e){if(null!=this.groups[t]){null==e&&(e=!0);var a=this.groups[t],s=a.points;a.lines=[];for(var i=s.sort(function(t,e){return t.x<e.x?-1:t.x===e.x?0:1}),r=i[0],o=null,n=[],l=1;l<i.length;l++)o=i[l],n.push(this.addLine(r,o,null,e)),r=o;return n}},i.prototype.setVisible=function(e,a,s){var i='.chartArea [groupid="'+e+'"]';null!=s&&(i=i+'[type="'+s+'"'),!0===a?t(this.ele).find(i).show():t(this.ele).find(i).hide()},i.prototype.renderBar=function(){var e=this;for(var a in t(this.ele).find(".chartBar").empty(),this.groups){void 0===this.groupVisible[a]&&(this.groupVisible[a]=!0);var s=this.groups[a].color,i=t('<div class="chartBarItem"><div class="colorspan" style="display:inline-block;"></div><span class="textspan"></span></div>');i.attr("groupid",a),i.attr("groupcolor",s),i.find(".colorspan").width(10).height(10).css("border","1px solid black").css("backgroundColor",s),i.find(".textspan").text("   "+a),t(this.ele).find(".chartBar").append(i),i.click(function(){var a=t(this).attr("groupid");t(this).toggleClass("disabled"),t(this).hasClass("disabled")?(e.setVisible(a,!1),e.groupVisible[a]=!1):(e.setVisible(a,!0),e.groupVisible[a]=!0)}),t(i).removeClass("disabled"),!1===this.groupVisible[a]&&(i.addClass("disabled"),this.setVisible(a,!1))}},i.prototype.reRenderGroupVisible=function(){for(var t in this.groupVisible){var e=this.groupVisible[t];this.setVisible(t,e)}},i.prototype.reActivePoint=function(){var e=this.currentActivePoint;if(null!=e){var a=e.groupid,s=e.x,i=e.y;t('[pointid="point_id_'+s+"-"+i+'"][groupid="'+a+'"]').click()}else this.ele.find('.chart .chartArea [type="point"]').removeClass("pointHighlited")},i.prototype.getMaxXY=function(){var t=0,e=0;for(var a in this.groups)for(var s=this.groups[a].points,i=0;i<s.length;i++){var r=s[i].x,o=s[i].y;r>t&&(t=r),o>e&&(e=o)}return{maxx:t,maxy:e}},i.prototype.reScaleChart=function(){var t=this.getMaxXY(),e=t.maxx,a=t.maxy,s=!1;e>this.maxXValue&&(this.maxXValue=e,this.updateAxisX(),s=!0),a>this.maxYValue&&(this.maxYValue=a,this.updateAxisY(),s=!0),s&&(this.reAddAllPoint(),this.reAddAllGroupLine())},e.a=i}).call(e,a("7t+N"))},S3zO:function(t,e){},SVII:function(t,e,a){"use strict";var s=a("14xJ"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainPage"},[a("sprint-select-dialog",{attrs:{dialogDisplay:t.dialogDisplay}}),t._v(" "),a("el-container",[a("el-header",[a("h1",{staticClass:"title"},[t._v("\n      Burndown Chart by Story Point ("+t._s(t.module)+" - "+t._s(t.sprint)+")\n      ")])]),t._v(" "),a("el-container",[a("el-main",[a("div",{staticClass:"myChartMain"})]),t._v(" "),a("div",{staticStyle:{display:"table-cell","vertical-align":"middle","padding-top":"40px"}},[a("div",{staticClass:"summaryIcon el-icon-d-arrow-left",class:{"summaryDisplay el-icon-d-arrow-right noanimation":t.isSummaryDisplay},on:{click:t.folderClicked}})]),t._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-leave":t.toggleSummary,"after-enter":t.toggleSummary}},[t.isSummaryDisplay?a("div",{staticStyle:{display:"table-cell","padding-top":"10px"}},[a("el-aside",{staticClass:"mainPageSummary",staticStyle:{display:"inline-block"},attrs:{width:"25%"}},[a("datasheet")],1)],1):t._e()])],1),t._v(" "),a("el-footer")],1)],1)},staticRenderFns:[]};var r=function(t){a("wAgA"),a("PcBk")},o={components:{"break-down-main":a("VU/8")(s.a,i,!1,r,"data-v-4089e616",null).exports},props:{sprintid:{type:String,default:"5aa771aa565aac21dbe670d1"},layerdisplay:{type:Boolean,default:!1}},data:function(){return{isDisplay:!1,allGroups:null,summary:null}},methods:{closeLayer:function(){this.isDisplay=!1},fetchData:function(t){var e=this;if(t===this.sprintid){var a=this.sprintid;this.axios.get("/api/v1/getGroups?sprintid="+a).then(function(t){e.allGroups=t.data.resData,e.axios.get("/api/v1/summary?sprintid="+a).then(function(t){e.summary=t.data.resData,e.$root.eventHub&&e.$root.eventHub.$emit("sprintChanged",t.data,e.allGroups,e.sprintid)})})}}},created:function(){var t=this;this.$root.eventHub&&this.$root.eventHub.$on("sprintDataChanged",function(e){t.fetchData(e),t.$root.eventHub.$emit("getBreakDownChart",e)})},mounted:function(){},watch:{layerdisplay:function(){this.isDisplay||(this.isDisplay=this.layerdisplay)}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"breakdownLayer"},[e("transition",{attrs:{name:"scale"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isDisplay,expression:"isDisplay"}],staticClass:"breakDownLayerContainer"},[e("break-down-main"),this._v(" "),e("div",{staticClass:"el-icon-close breakDownLayerClose",on:{click:this.closeLayer}})],1)]),this._v(" "),this.isDisplay?e("div",{staticStyle:{width:"100%",height:"100%",position:"fixed",top:"0px",left:"0px","z-index":"10","background-color":"rgba(0,0,0,0.5)"},on:{click:this.closeLayer}}):this._e()],1)},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("sVIf")},"data-v-18f0b2ce",null);e.a=l.exports},U4Px:function(t,e,a){"use strict";var s={props:{dialogDisplay:{type:Boolean,default:!0}},data:function(){return{isShowAlert:!1,sprintList:[],moduleList:[],sprintSelected:"",dialogVisible:!1,isDisabled:!0,form:{module:[],sprint:[]}}},methods:{queryData:function(){var t=this;this.axios.get("/api/v1/sprints").then(function(e){t.sprintList=e.data.resData,t.moduleList=e.data.moduleList,window.localStorage.module&&window.localStorage.sprint&&t.sendSprintData()})},sendSprintData:function(){for(var t=[],e=0;e<this.sprintList.length;e++)if(this.sprintList[e]._id===this.form.sprint){t=this.sprintList[e];break}this.$root.eventHub&&this.$root.eventHub.$emit("sprintSelected",t)},selectSprint:function(){this.form.module&&this.form.sprint?(this.isShowAlert=!1,this.dialogVisible=!1,window.localStorage.module=this.form.module,window.localStorage.sprint=this.form.sprint,this.$root.module=this.form.module,this.$root.sprintid=this.form.sprint,this.sendSprintData()):this.form.module?(window.localStorage.module=this.form.module,window.localStorage.sprint="",this.$root.module=this.form.module,this.$root.sprintid="",window.location.href="/#/admin/home"):this.isShowAlert=!0}},created:function(){window.localStorage.module&&window.localStorage.sprint?(this.form.module=window.localStorage.module,this.form.sprint=window.localStorage.sprint):(window.localStorage.module&&(this.form.module=window.localStorage.module),this.dialogVisible=!0),this.queryData()},mounted:function(){},computed:{selectedSprintList:function(){for(var t=[],e=0;e<this.sprintList.length;e++)this.sprintList[e].module===this.form.module?t.push({id:this.sprintList[e]._id,value:this.sprintList[e].release+" - "+this.sprintList[e].sprint}):this.form.sprint="";return t}},watch:{dialogDisplay:function(){null!=this.dialogDisplay&&(this.dialogVisible=this.dialogDisplay)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPointDialogContainer"},[a("div",{staticClass:"BISelectContainer"},[a("el-dialog",{attrs:{title:"Select Sprint",visible:t.dialogVisible,width:"30%","show-close":!1,"close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[a("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.isShowAlert,expression:"isShowAlert"}],staticStyle:{margin:"-20px 0px 20px 0px"},attrs:{title:"The Module are required!",type:"warning"},on:{close:function(e){t.isShowAlert=!1}}})],1),t._v(" "),a("span",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Module"}},[a("el-select",{attrs:{filterable:"",placeholder:"Select"},model:{value:t.form.module,callback:function(e){t.$set(t.form,"module",e)},expression:"form.module"}},t._l(t.moduleList,function(t){return a("el-option",{key:t._id,attrs:{label:t.key,value:t.key}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Sprint"}},[a("el-select",{attrs:{placeholder:"Select",disabled:0==t.selectedSprintList.length},model:{value:t.form.sprint,callback:function(e){t.$set(t.form,"sprint",e)},expression:"form.sprint"}},t._l(t.selectedSprintList,function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.selectSprint}},[t._v("Confirm")])],1)])],1)])},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(t){a("doyQ")},null,null);e.a=r.exports},XqCg:function(t,e){},ZFET:function(t,e,a){"use strict";(function(t){var s=a("wTzg");e.a={props:{type:{type:String,default:"block"}},components:{"add-block-dialog":s.a},data:function(){return{isShowAction:!1,issues:[],previousIssues:[],currentblockersnum:0,previousblockersnum:0,dialogDisplay:!1,isShowAll:!0,title:"",defaultAddIssueValues:{},group:"",allGroups:null,summary:null}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;if(this.issues){if("Open"===this.issues[e].status)return"block"===this.type?"blockedIssueTrColor":"followupIssueTrColor";if("Resolved"===this.issues[e].status)return"resolvedIssueTrColor"}return""},updateIssueCategory:function(e,a){var s=this.sprintid,i=this.summary.summary.length-1,r={sprintid:s,issueid:e._id,changefield:"category",dataafterchange:a,changeinsprintday:i},o=this;t("#"+e._id).click(),this.axios.post("/api/v1/updateIssue",r).then(function(t){"success"===t.data.status?o.$root.eventHub.$emit("sprintDataChanged",s):o.$message({message:t.data.resMsg,type:"error"})}).catch(function(t){o.$refs.popoverStatus.doClose(),console.log(t),o.$message({message:"Server Error",type:"error"})})},updateIssueStatus:function(e,a){var s=this.sprintid,i=this.summary.summary.length-1,r={sprintid:s,issueid:e._id,changefield:"status",dataafterchange:a,changeinsprintday:i},o=this;t("#"+e._id).click(),this.axios.post("/api/v1/updateIssue",r).then(function(t){"success"===t.data.status?o.$root.eventHub.$emit("sprintDataChanged",s):o.$message({message:t.data.resMsg,type:"error"})}).catch(function(t){o.$refs.popoverStatus.doClose(),console.log(t),o.$message({message:"Server Error",type:"error"})})},changeShowAll:function(){this.isShowAll=!this.isShowAll},openDialog:function(){this.dialogDisplay=!0;var t=this;if(""!==this.group){for(var e=this.allGroups,a=null,s=0;s<e.length;s++){var i=e[s];if(this.group===i.groupname){a=i;break}}this.defaultAddIssueValues.issueGroup={groupname:a.groupname,_id:a._id}}else this.defaultAddIssueValues.issueGroup={};setTimeout(function(){t.dialogDisplay=null})},getDayBlockSummary:function(t,e,a,s,i,r,o,n){this.sprintid=n,this.summary=o;var l=[e];if(this.group=e,this.allGroups=r,""===e){l=[];for(var c=0;c<r.length;c++)l.push(r[c].groupname)}for(var d=[],u=[],p=0;p<l.length;p++){var h=l[p],m=this.summary.summary.length-1;this.isShowAction=t===m,"block"===this.type?(d=d.concat(a.groups[h].blocker||[]),u=u.concat(s.groups[h].blocker||[])):(d=d.concat(a.groups[h].followup||[]),u=u.concat(s.groups[h].followup||[]))}this.issues=d,this.previousIssues=u}},computed:{filterIssues:function(){return this.isShowAll?this.issues:this.issues.filter(function(t){return"Open"===t.status})},getCurrentBlockersNum:function(){var t=0;if(this.issues)for(var e=0;e<this.issues.length;e++){"Open"===this.issues[e].status&&t++}return t},getPreviousBlockersnum:function(){var t=0;if(this.previousIssues)for(var e=0;e<this.previousIssues.length;e++){"Open"===this.previousIssues[e].status&&t++}return t},getAddBlockNum:function(){for(var t=0,e=0;e<this.issues.length;e++){var a=this.issues[e];if("Open"===a.status){var s=!0;if(this.previousIssues){for(var i=0;i<this.previousIssues.length;i++){var r=this.previousIssues[i];a.issuekey===r.issuekey&&(s=!1,"Resolved"===r.status&&t++)}s&&t++}else t++}}return t},getReducedBlockNum:function(){for(var t=0,e=0;e<this.issues.length;e++){var a=this.issues[e];if("Resolved"===a.status&&this.previousIssues)for(var s=0;s<this.previousIssues.length;s++){var i=this.previousIssues[s];a.issuekey===i.issuekey&&"Resolved"!==i.status&&t++}}return t}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getDaySummary",this.getDayBlockSummary),"block"===this.type?this.title="Block issues":this.title="Followup issues"},mounted:function(){}}}).call(e,a("7t+N"))},a6Zt:function(t,e){},aETE:function(t,e){},cG39:function(t,e){},ddsI:function(t,e,a){"use strict";(function(t){var s=a("Nbcf"),i=a("zXbU"),r=a("qjA8"),o=a("U4Px");e.a={name:"DataSheet",data:function(){return{dialogDisplay:!1,displayData:{currentTab:"points"},day:0,date:"",groupName:"",pointLabel:"Points",blockLabel:"Blockers",followupLabel:"Follows",dataSheetTabs:"",effortData:{label:"Effort Offset Ratio",value:0,color:"#409EFF"}}},methods:{openDialog:function(){this.dialogDisplay=!0;var t=this;setTimeout(function(){t.dialogDisplay=null})},getDaySummary:function(t,e,a,s,i,r,o){if(null!=a){this.day=t,this.date=a.date;var n=[e];if(""===e){this.groupName="All Groups",n=[];for(var l=0;l<r.length;l++)n.push(r[l].groupname)}else this.groupName=e;for(var c=0,d=0,u=0,p=0;p<n.length;p++){var h=n[p];if(null!==a.groups[h]&&void 0!==a.groups[h]){var m=a.groups[h].blocker;if(null!=m)for(var f=0;f<m.length;f++){m[f].status!==o.constances.storyIssueResovledStatus&&c++}this.blockLabel="Blocks ("+c+")";var g=a.groups[h].followup;if(null!=g)for(var v=0;v<g.length;v++){g[v].status!==o.constances.storyIssueResovledStatus&&d++}this.followupLabel="Follows ("+d+")",u+=a.groups[h].currentPoint,this.pointLabel="Points ("+u+")",this.effortData.value=o.effortOffsetRatio}}}},changeTab:function(){this.dataSheetTabs="blockTab"}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getDaySummary",this.getDaySummary),this.$root.eventHub&&this.$root.eventHub.$on("changeTab",this.changeTab)},mounted:function(){var e=t(".breakDownLayerContainer").height();if(e>100){var a=e-90;t(".dataSheet").height(a)}},computed:{effortOffsetValue:function(){return this.effortData.value}},components:{"point-status":s.a,"issue-component":i.a,"add-point-dialog":r.a,"sprint-select-dialog":o.a},watch:{effortOffsetValue:function(t){this.effortData.color=t>=25?"#F56C6C":t>=15?"#E6A23C":"#409EFF"}}}}).call(e,a("7t+N"))},doyQ:function(t,e){},"e30+":function(t,e,a){"use strict";function s(){}s.prototype.addEventListener=function(t,e){null==this.eventbus&&(this.eventbus=[]),null==this.eventbus[t]&&(this.eventbus[t]={});var a=t+"_"+(new Date).getTime()+"_"+Math.floor(1e12*Math.random());return this.eventbus[t][a]=e,a},s.prototype.fireEvent=function(t,e){if(null!=this.eventbus&&null!=this.eventbus[t])for(var a in this.eventbus[t]){(0,this.eventbus[t][a])({source:this,sourceele:e?e.ele:null,eventname:t,eventid:a,data:e})}},e.a=s},ev4y:function(t,e){},gIP1:function(t,e){},hJuN:function(t,e,a){t.exports=a.p+"static/img/fold.3cc7a19.png"},iGCG:function(t,e){},jC1V:function(t,e){},lbWv:function(t,e,a){"use strict";var s=a("nu7/"),i=a.n(s),r=a("Icdr");a("XLwt");var o={data:function(){var t=this.$createElement;return{popupTitle:"",showPopup:!1,tableData:[],tableColumns:[],remainingColumnsMap:[{label:"Owner",key:"owner"},{label:"Remaining Effort (H)",key:"leftEstimate"},{label:"Ticket Key",key:"key",formatter:function(e,a,s){return t("a",{attrs:{href:"https://jira.successfactors.com/browse/"+s,target:"_blank"}},[s])}}],loggedColumnsMap:[{label:"Owner",key:"owner"},{label:"Logged Effort (H)",key:"loggedEffort"},{label:"Ticket Key",key:"key",formatter:function(e,a,s){return t("a",{attrs:{href:"https://jira.successfactors.com/browse/"+s,target:"_blank"}},[s])}},{label:"Date",key:"created",formatter:function(t,e,a){return new Date(a).toLocaleString()}}]}},mounted:function(){},methods:{createChart:function(){if(!this.myChart){var t=this;this.myChart=r.init(document.getElementById("worklogChart")),this.myChart.on("click",function(e){"click"===e.type&&"Left"===e.seriesName&&"bar"===e.seriesType&&(t.popupTitle="Remaining Tasks",t.tableColumns=t.remainingColumnsMap,t.tableData=(e.data.list||[]).map(function(t){return t.leftEstimate=Math.ceil(t.leftEstimate/3600),t}),t.showPopup=!0),"click"===e.type&&"Logged"===e.seriesName&&"bar"===e.seriesType&&(t.popupTitle="Effort Logged History",t.tableColumns=t.loggedColumnsMap,t.tableData=(e.data.list||[]).map(function(t){return t.created=new Date(t.created).valueOf(),t}),t.showPopup=!0)}),this.myChart.setOption({title:{text:"Effort Track Status"},tooltip:{show:!0,trigger:"item"},legend:{data:["Left","Logged"]},toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar","stack","tiled"],title:{line:"line",bar:"bar",stack:"stack",tiled:"tiled"}}}},calculable:!0,yAxis:{type:"value",name:"Hours",axisLabel:{formatter:"{value}"}},xAxis:{type:"category",data:[],axisLabel:{interval:0}},series:[{name:"Left",type:"bar",stack:"Left",data:[],itemStyle:{normal:{borderRadius:5,color:"rgb(230, 162, 60)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},markLine:{data:[{type:"average",name:"Average"}]}},{name:"Logged",type:"bar",itemStyle:{normal:{borderRadius:5,color:"rgb(64, 158, 255)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:[],markLine:{data:[{type:"average",name:"Average"}]}}]})}},fetchData:function(t,e){if(this.createChart(),this.sprintinfo=e,!this.sprintinfo._id)return this.setData({resData:{data:{}}}),!1;var a=i.a.service({fullscreen:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",text:"Loading..."}),s=this,r="refresh="+(t||"")+"&sprintid="+(this.sprintinfo._id||"")+"&start="+(this.sprintinfo.start||"")+"&end="+(this.sprintinfo.end||"")+"&module="+window.localStorage.getItem("module");this.axios.get("/admin/dashboard/worklog?"+r).then(function(e){a.close(),"success"===e.data.status?(s.setData(e.data),"y"===t&&s.$emit("updatepints")):s.$message({message:e.data.resMsg,type:e.data.status})}).catch(function(t){console.log(t),s.$message({message:"Data request failed!",type:"error"})})},refresh:function(t){this.fetchData("y",t)},setData:function(t){var e=t.resData?t.resData.data:{},a=t.usermap||{},s=[],i=[],r=[];for(var o in e)s.push(a[o]||o),i.push({value:e[o].leftEstimate/3600,list:e[o].leftList||[]}),r.push({value:e[o].loggedEffort/3600,list:e[o].loggedHistory||[]});this.myChart.setOption({xAxis:{type:"category",data:s,axisLabel:{interval:0}},series:[{name:"Left",type:"bar",stack:"Left",data:i,itemStyle:{normal:{borderRadius:5,color:"rgb(230, 162, 60)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}}},{name:"Logged",type:"bar",itemStyle:{normal:{borderRadius:5,color:"rgb(64, 158, 255)",label:{show:!0,textStyle:{fontSize:"20",fontFamily:"微软雅黑",fontWeight:"bold"}}}},data:r}]})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticStyle:{height:"400px"},attrs:{id:"worklogChart"}})]),t._v(" "),a("el-dialog",{attrs:{title:t.popupTitle,visible:t.showPopup},on:{"update:visible":function(e){t.showPopup=e}}},[a("el-table",{attrs:{data:t.tableData,"max-height":"800",border:""}},t._l(t.tableColumns,function(t){return a("el-table-column",{key:t.key,attrs:{sortable:"",align:"left",formatter:t.formatter,prop:t.key,label:t.label}})}),1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(o,n,!1,null,null,null);e.a=l.exports},"mw9/":function(t,e){},nf3R:function(t,e){},ol6R:function(t,e,a){"use strict";var s=a("yguD"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"chartsummary",staticStyle:{display:"block",position:"relative","z-index":"1"}})},staticRenderFns:[]};var r=function(t){a("FOMY")},o=a("VU/8")(s.a,i,!1,r,"data-v-56eae5e5",null).exports,n={props:{sprintid:{type:String,default:""},showhead:{type:Boolean,default:!1},chartwidth:{type:Number,default:200},chartheight:{type:Number,default:220}},data:function(){return{total:28,days:20,capacity:20,estimate:15}},methods:{progressCardClicked:function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),this.$emit("cardclicked",this.sprintid)}},created:function(){},mounted:function(){},watch:{},components:{"breakdown-chart":o}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"agileTrackerProgressCard",on:{click:t.progressCardClicked}},[a("el-card",{staticClass:"box-card"},[t.showhead?a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Progress")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}})],1):t._e(),t._v(" "),a("el-row",{staticClass:"cardContentRow"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content"},[a("breakdown-chart",{attrs:{sprintid:t.sprintid,chartwidth:t.chartwidth,chartheight:t.chartheight}})],1)])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,l,!1,function(t){a("7nUM")},"data-v-d82b0e2a",null);e.a=c.exports},qjA8:function(t,e,a){"use strict";var s={data:function(){return{biSelectedURL:"",selectedBi:{},selectedPointsLabel:"",biList:[],dialogVisible:!1,statusList:[{groupId:"Dev",key:"Devcomplete",label:"Dev Complete"},{groupId:"QA",key:"Done",label:"Test Complete"}],labelPosition:"left",ruleForm:{biSelected:"",statusSelected:""},rules:{biSelected:[{required:!0,message:"please enter story id",trigger:"change"}],statusSelected:[{required:!0,message:"please select option",trigger:"change"}]}}},methods:{handleClose:function(){this.ruleForm.biSelected=""},getSprintFormatDay:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},updateAllStroyList:function(t,e,a,s,i,r,o){this.biList=this.summary.storyList,this.group=e},submitForm:function(t){var e=this,a=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var s={storykey:"CDP-2222",storyname:"test add story",storypoints:a.selectedBi.points,issuetype:"story",summary:"test add story",sprint:"5a54863a5170323f38f3432d",ingoup:a.group,changeinsprintday:"2018-01-17",status:"Ready for testing"};console.log("newItem:"+s),e.axios.post("/api/v1/addStory",s).then(function(t){"success"===t.data.status?(e.dialogVisible=!1,e.$emit("newItemAdded",s)):a.$message({message:t.data.resMsg,type:t.data.status})}).catch(function(t){console.log(t),a.$message({message:"数据保存失败！",type:"error"})}),alert("submit!")})}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getDaySummary",this.updateAllStroyList)},mounted:function(){},computed:{biSelected:function(){return this.ruleForm.biSelected}},watch:{biSelected:function(t){this.biSelectedURL="https://jira.successfactors.com/browse/"+t;for(var e=0;e<this.biList.length;e++)this.biList[e].storykey===t&&(this.selectedBi=this.biList[e],this.selectedPointsLabel=this.selectedBi.points+" Points")}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPointDialogContainer"},[a("div",{staticClass:"BISelectContainer"},[a("el-dialog",{staticClass:"addPointDialog",attrs:{title:"Add Point Dialog",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"grid-content",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":t.labelPosition}},[a("el-form-item",{staticClass:"addPointDialogContent",attrs:{prop:"biSelected",label:"BI Number:"}},[a("el-row",[a("el-col",{attrs:{span:15}},[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:"Please select BI"},model:{value:t.ruleForm.biSelected,callback:function(e){t.$set(t.ruleForm,"biSelected",e)},expression:"ruleForm.biSelected"}},t._l(t.biList,function(t){return a("el-option",{key:t.storykey,attrs:{label:t.storykey,value:t.storykey}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("a",{attrs:{target:"_blank",href:t.biSelectedURL}},[t._v(t._s(t.ruleForm.biSelected))]),t._v(" ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",[t._v(t._s(t.selectedPointsLabel))])])],1)],1),t._v(" "),a("el-form-item",{staticClass:"addPointDialogContent",attrs:{prop:"statusSelected",label:"BI Change:"}},[a("el-radio-group",{model:{value:t.ruleForm.statusSelected,callback:function(e){t.$set(t.ruleForm,"statusSelected",e)},expression:"ruleForm.statusSelected"}},t._l(t.statusList,function(e){return a("el-radio",{key:e.key,attrs:{label:e.key,border:"",size:"medium",disabled:e.groupId!=t.group}},[t._v(t._s(e.label)+"\n            ")])}),1)],1),t._v(" "),a("el-form-item",{staticClass:"addPointDialogFooter"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Confirm")])],1)],1)],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(t){a("Q2vG")},null,null);e.a=r.exports},s9ae:function(t,e){},sVIf:function(t,e){},tnkV:function(t,e){},tvR6:function(t,e){},wAgA:function(t,e){},wTzg:function(t,e,a){"use strict";var s={props:{dialogDisplay:{type:Boolean,default:!0},defaultValues:Object,category:String},data:function(){return{ruleForm:{issueAdded:"",ownerAdded:"",biSelected:"",issueGroup:"",issueName:"",comments:""},rules:{issueAdded:[{required:!0,message:"Please input issue",trigger:"blur"}],biSelected:[{required:!0,message:"please select BI",trigger:"change"}],ownerAdded:[{required:!1}],issueGroup:[{required:!0,message:"please select group",trigger:"change"}],issueName:[{required:!1}],comments:[{required:!1}]},biList:[],groupList:[],dialogVisible:!1,title:"",allGroups:null,summary:null,sprintid:null}},methods:{getRootData:function(){if("block"===this.category?this.title="Add New Block Issue":"followup"===this.category&&(this.title="Add New Followup Issue"),this.biList=this.summary.storyList,this.groupList=this.allGroups,null!==this.defaultValues)for(var t in this.defaultValues)void 0!==this.ruleForm[t]&&(this.ruleForm[t]=this.defaultValues[t])},handleClose:function(t){this.$refs[t].resetFields()},getIssueFormatDay:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e.sprintid,s=e.summary.summary.length-1,i={issuekey:e.ruleForm.issueAdded,storyid:e.ruleForm.biSelected._id,issuename:e.ruleForm.issueName,follower:e.ruleForm.ownerAdded,issuegroup:e.ruleForm.issueGroup,category:e.category,sprint:a,comments:e.ruleForm.comments,changeinsprintday:s,status:"Open"},r=e;e.axios.post("/api/v1/addIssue",i).then(function(t){"success"===t.data.status?(r.$root.eventHub.$emit("sprintDataChanged",a),r.dialogVisible=!1):r.$message({message:t.data.resMsg,type:"error"})}).catch(function(t){console.log(t),r.$message({message:"Server Error",type:"error"})})})},getDayBlockSummary:function(t,e,a,s,i,r,o,n){this.sprintid=n,this.summary=o,this.allGroups=r}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getDaySummary",this.getDayBlockSummary)},mounted:function(){},watch:{issueAdded:function(){},dialogDisplay:function(){null!=this.dialogDisplay&&(this.dialogVisible=this.dialogDisplay)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPointDialogContainer"},[a("div",{staticClass:"BISelectContainer"},[a("el-dialog",{staticClass:"addPointDialog",attrs:{title:t.title,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},open:t.getRootData,close:function(e){return t.handleClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"Issue Number:",prop:"issueAdded"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"Please input issue"},model:{value:t.ruleForm.issueAdded,callback:function(e){t.$set(t.ruleForm,"issueAdded",e)},expression:"ruleForm.issueAdded"}})],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:10}},[a("a",{attrs:{target:"_blank",href:"https://jira.successfactors.com/browse/"+t.ruleForm.issueAdded}},[t._v(t._s(t.ruleForm.issueAdded))])])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Issue Name:",prop:"issueName"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"Please input issue name"},model:{value:t.ruleForm.issueName,callback:function(e){t.$set(t.ruleForm,"issueName",e)},expression:"ruleForm.issueName"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"BI Number:",prop:"biSelected"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{"value-key":"_id",filterable:"",clearable:"","allow-create":"",placeholder:"Please select BI"},model:{value:t.ruleForm.biSelected,callback:function(e){t.$set(t.ruleForm,"biSelected",e)},expression:"ruleForm.biSelected"}},t._l(t.biList,function(t){return a("el-option",{key:t._id,attrs:{label:t.storykey,value:t}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",[a("a",{attrs:{target:"_blank",href:"https://jira.successfactors.com/browse/"+t.ruleForm.biSelected.storykey}},[t._v(t._s(t.ruleForm.biSelected.storykey))])])])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Issue Group:",prop:"issueGroup"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{"value-key":"_id",filterable:"","allow-create":"",placeholder:"Please select group"},model:{value:t.ruleForm.issueGroup,callback:function(e){t.$set(t.ruleForm,"issueGroup",e)},expression:"ruleForm.issueGroup"}},t._l(t.groupList,function(t){return a("el-option",{key:t._id,attrs:{label:t.groupname,value:t}})}),1)],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Owner:",prop:"ownerAdded"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"Please input Owner"},model:{value:t.ruleForm.ownerAdded,callback:function(e){t.$set(t.ruleForm,"ownerAdded",e)},expression:"ruleForm.ownerAdded"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Comments:",prop:"comments"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"Please input your comments."},model:{value:t.ruleForm.comments,callback:function(e){t.$set(t.ruleForm,"comments",e)},expression:"ruleForm.comments"}})],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Confirm")])],1)],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(t){a("4Fbj")},null,null);e.a=r.exports},xbG2:function(t,e,a){"use strict";(function(t){e.a={name:"DatePicker",props:{dateSelected:{type:Array,default:[""]},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{displayCalendar:[],displayYear:(new Date).getFullYear(),displayMonth:(new Date).getMonth(),calendarDateSelected:[]}},methods:{nextMonth:function(){this.displayMonth=this.displayMonth+1,this.displayMonth>=12&&(this.displayYear+=1,this.displayMonth=this.displayMonth-12),this.calculateMonthCalendar(this.displayYear,this.displayMonth)},prevMonth:function(){this.displayMonth=this.displayMonth-1,this.displayMonth<0&&(this.displayYear-=1,this.displayMonth=this.displayMonth+12),this.calculateMonthCalendar(this.displayYear,this.displayMonth)},cellClicked:function(t,e,a){if(!a.disabled){var s=a.character,i=this.displayCalendar[t][e].selected;this.displayCalendar[t][e].selected=!i;var r=this.displayMonth+1;r=(r+="").length>1?r:"0"+r;var o=s+"";o=o.length>1?o:"0"+o;var n=this.displayYear+"-"+r+"-"+o;i?this.removeDate(n):this.addDate(n)}},addDate:function(t){!0!==this.dateSelectedMap[t]&&this.calendarDateSelected.push(t)},removeDate:function(t){for(var e=0;e<this.calendarDateSelected.length;e++){t===this.calendarDateSelected[e]&&(this.calendarDateSelected.splice(e,1),e-=1)}},calculateMonthCalendar:function(t,e){var a=null,s=null;""===this.startDate||""===this.endDate||null===this.startDate||null===this.endDate?(a=null,s=null):(a=new Date(this.startDate+" 00:00:00"),s=new Date(this.endDate+" 00:00:00"));for(var i=new Date(t,e,1).getDay(),r=1,o=new Date(t,e+1,1),n=(o=new Date(o-1)).getDate(),l=0;l<6;l++)for(var c=0;c<7;c++){var d=this.displayCalendar[l][c];if(0===l&&c<i)d.character="",d.dateObj=null,d.disabled=!0,d.selected=!1;else if(r<=n){d.disabled=!1;var u=e+1,p=r+"",h=t+"-"+(u=(u+="").length>1?u:"0"+u)+"-"+(p=p.length>1?p:"0"+p);d.dateObj=new Date(t+"-"+u+"-"+r+" 00:00:00"),d.character=r++,0!==c&&6!==c||(d.weekend=!0),!0===this.dateSelectedMap[h]?d.selected=!0:d.selected=!1,(d.dateObj<a||d.dateObj>s)&&(d.disabled=!0)}else d.character="",d.dateObj=null,d.disabled=!0,d.selected=!1;null!==a&&null!==s||(d.disabled=!0)}}},created:function(){for(var t=0;t<6;t++){for(var e=[],a=0;a<7;a++){e.push({selected:!1,disabled:!1,weekend:!1,character:"",dateObj:null})}this.displayCalendar.push(e)}this.calculateMonthCalendar(this.displayYear,this.displayMonth)},mounted:function(){t(".DatePicker .calendarBody .calendarRow .calendarCell").hover(function(){"true"===t(this).attr("celldisabled")||t(this).hasClass("selected")||t(this).addClass("hover")},function(){t(this).removeClass("hover")})},updated:function(){t(".DatePicker .calendarBody .calendarRow .calendarCell").hover(function(){"true"===t(this).attr("celldisabled")||t(this).hasClass("selected")||t(this).addClass("hover")},function(){t(this).removeClass("hover")})},computed:{daysSelectedInCalendar:function(){var t=[];for(var e in this.dateSelectedMap)t.push(e);return t},isHaveNextMonth:function(){var t=new Date(this.endDate),e=t.getMonth(),a=t.getFullYear();return this.displayYear<a||this.displayMonth<e},isHavePrevMonth:function(){var t=new Date(this.startDate),e=t.getMonth(),a=t.getFullYear();return this.displayYear>a||this.displayMonth>e},dateSelectedMap:function(){for(var t={},e=0;e<this.dateSelected.length;e++){t[this.dateSelected[e]]=!0}return t}},components:{},watch:{dateSelected:function(){this.calendarDateSelected=this.dateSelected,this.calculateMonthCalendar(this.displayYear,this.displayMonth)},calendarDateSelected:function(){this.$root.eventHub&&this.$root.eventHub.$emit("datePickerChanged",this.calendarDateSelected)}}}}).call(e,a("7t+N"))},yguD:function(t,e,a){"use strict";(function(t){var s=a("QK9P");e.a={props:{sprintid:{type:String,default:!0},chartwidth:{type:Number,default:400},chartheight:{type:Number,default:200}},name:"ChartMainPage",data:function(){return{chart:null,allPoints:[],allLines:[],allData:null,allGroups:null,summary:null,localchartwidth:0,localchartheight:0}},methods:{_isHaveAddStory:function(t,e){for(var a=0,s=0;s<t.length;s++)for(var i=t[s],r=i.AddStory,o=i.points,n=i.ingroup,l=0;l<n.length;l++){if(n[l].groupname===e&&!0===r){a+=o;break}}return a},updateData:function(t){this.chart.emptyData(),this.allData=t.resData;var e=t.resData.summary,a=t.resData.constances,s=t.resData.initialPoints,i=t.resData.constances.storyIssueResovledStatus,r={},o=0;for(var n in s)this.addNewGroup(n,o),o++;if(e.length>0){var l=e[1];1===e.length&&(l=e[0]);var c=l.day,d=l.groups,u=l.storyList;for(var p in d){var h=d[p];null==r[p]&&(r[p]={}),r[p].day=c,r[p].blocker=h.blocker,r[p].followup=h.followup,r[p].point=h.points;var m=h.currentPoint,f={};this._isHaveAddStory(u,p)>0&&(f={border:"2px solid black"});var g=this.chart.addPoint(0,m,p,{cssstyle:f,type:"all",group:p,summarydata:l,constances:a});this.allPoints.push(g)}}for(var v=1;v<e.length;v++){var y=e[v],b=y.day,w=y.storyList,_=y.groups;for(var C in _){var x=_[C];null==r[C]&&(r[C]={}),r[C].day=b,r[C].blocker=x.blocker,r[C].followup=x.followup,r[C].point=x.points;var k=x.currentPoint,S={};this._isHaveAddStory(w,C)>0&&(S={border:"2px solid rgba(245, 108, 108, 0.8)"}),this.allPoints.push(this.chart.addPoint(v,k,C,{cssstyle:S,type:"all",group:C,summarydata:y,constances:a}))}}this.chart.renderBar(),this.chart.reScaleChart(),this.chart.reAddAllGroupLine();var D=this.chart.getGroupsData(),I=[];for(var $ in D)I=I.concat(D[$].lines);for(var A=0;A<I.length;A++){var L=I[A],P=L.endPoint,F=P.extraData.summarydata.groups,M=!1;for(var V in F){var R=F[V].blocker;if(null!=R&&R.length>0)for(var E=0;E<R.length;E++){if(R[E].status!==i&&P.extraData.group===V){M=!0;break}}}var G=!1;for(var H in F){var T=F[H].followup;if(null!=T&&T.length>0)for(var j=0;j<T.length;j++){if(T[j].status!==i&&P.extraData.group===H){G=!0;break}}}if(M){var N=parseInt(L.ele.css("left"))+1,O=parseInt(L.ele.css("top"))-1;L.ele.css("left",N+"px"),L.ele.css("top",O+"px"),L.ele.css("border-top","2px solid red")}if(G){var Y=parseInt(L.ele.css("left"))+1,B=parseInt(L.ele.css("top"))-1;L.ele.css("left",Y+"px"),L.ele.css("top",B+"px"),L.ele.css("border-bottom","2px solid #F7931E")}}this.chart.reRenderGroupVisible(),this.chart.reActivePoint()},addNewGroup:function(t,e){var a=0,i=null;for(var r in s.a.colors){if(a===e){i=s.a.colors[r];break}a++}this.chart.addGroup(t,{color:i})},prepareChart:function(t,e,a){var i=this.localchartwidth;t&&(i=t);var r=this.localchartheight;e&&(r=e);var o=new s.a(".chartsummary",i,r,a,{pointHeight:5,pointWidth:5});this.chart=o},resizeChart:function(e,a,s){(t(".chartsummary").empty(),this.prepareChart(e,a,s),this.updateData(this.cachedResponse),this.currentClickedPoint)&&t(".chartsummary .chartArea [pointid="+this.currentClickedPoint+"]").click()},sprintChanged:function(t,e){this.cachedResponse=t,this.allGroups=e;this.toggleSummary()},fetchData:function(t,e,a){if(void 0!==t&&null!==t&&""!==t&&t===this.sprintid){e&&(this.localchartwidth=e),a&&(this.localchartheight=a);var s=this,i=t;this.axios.get("/api/v1/getGroups?sprintid="+i).then(function(t){s.allGroups=t.data.resData,s.axios.get("/api/v1/summary?sprintid="+i).then(function(t){s.summary=t.data.resData,s.sprintChanged(t.data)})})}},toggleSummary:function(t,e){var a=this.localchartwidth;t&&(a=t);var s=this.localchartheight;e&&(s=e);var i=this.cachedResponse.resData.sprintTotalDayCount;this.resizeChart(a,s,i-1)}},created:function(){this.$root.eventHub&&this.$root.eventHub.$on("getBreakDownChart",this.fetchData),this.localchartheight=this.chartheight,this.localchartwidth=this.chartwidth},mounted:function(){},watch:{chartheight:function(){this.localchartheight=this.chartheight},chartwidth:function(){this.localchartwidth=this.chartwidth}},components:{}}}).call(e,a("7t+N"))},zXbU:function(t,e,a){"use strict";var s=a("ZFET"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"pointStatus",staticStyle:{height:"40px"}},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"pointInfoTitle"},[t._v(t._s(t.title))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowAction,expression:"isShowAction"}],staticClass:"el-icon-circle-plus-outline addIssueIcon",on:{click:t.openDialog}}),t._v(" "),a("add-block-dialog",{attrs:{defaultValues:t.defaultAddIssueValues,dialogDisplay:t.dialogDisplay,category:t.type}})],1)],1)],1),t._v(" "),a("el-main",{staticStyle:{padding:"0px"}},[a("div",{staticClass:"pointChangedHis"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:9}},[a("i",{staticClass:"el-icon-caret-bottom successContent"}),t._v(" "),a("span",{staticClass:"successContent"},[t._v(t._s(t.getReducedBlockNum))])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("i",{staticClass:"el-icon-caret-top blockContent"}),t._v(" "),a("span",{staticClass:"blockContent"},[t._v(t._s(t.getAddBlockNum))])])],1),t._v(" "),a("el-row",{staticStyle:{height:"30px","line-height":"30px","padding-left":"20px"}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Today Blockers：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"textDangerColor"},[t._v(t._s(t.getCurrentBlockersNum))])])],1),t._v(" "),a("el-row",{staticStyle:{height:"30px","line-height":"30px","padding-left":"20px"}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Last Day Blockers：")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"textDangerColor"},[t._v(t._s(t.getPreviousBlockersnum))])])],1)],1),t._v(" "),a("div",{staticClass:"pointChangedItem"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:9}},[a("span",{staticClass:"pointInfoTitle"},[t._v("Issues ("+t._s(t.issues.length)+")")])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("span",[t._v("Show All")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.isShowAll,callback:function(e){t.isShowAll=e},expression:"isShowAll"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filterIssues,"show-header":!1,"row-class-name":t.tableRowClassName,"max-height":"300"}},[a("el-table-column",{staticStyle:{width:"30%"},attrs:{prop:"issuekey"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"30%"},attrs:{prop:"follower"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{ref:"popoverStatus",attrs:{"popper-class":"popoverMinWidth",disabled:!t.isShowAction}},[a("el-row",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"Resolved"!==e.row.status,expression:"scope.row.status !== 'Resolved'"}],attrs:{type:"text"},on:{click:function(a){return t.updateIssueStatus(e.row,"Resolved")}}},[t._v("Resolved")])],1),t._v(" "),"block"===t.type?a("el-row",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"Open"!==e.row.status,expression:"scope.row.status !== 'Open'"}],attrs:{type:"text"},on:{click:function(a){return t.updateIssueStatus(e.row,"Open")}}},[t._v("Block")])],1):t._e(),t._v(" "),"block"===t.type&&"Open"===e.row.status?a("el-row",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateIssueCategory(e.row,"followup")}}},[t._v("Move to Followup")])],1):t._e(),t._v(" "),"followup"===t.type?a("el-row",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"Open"!==e.row.status,expression:"scope.row.status !== 'Open'"}],attrs:{type:"text"},on:{click:function(a){return t.updateIssueStatus(e.row,"Open")}}},[t._v("Followup")])],1):t._e(),t._v(" "),"followup"===t.type&&"Open"===e.row.status?a("el-row",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateIssueCategory(e.row,"block")}}},[t._v("Move to Block")])],1):t._e()],1),t._v(" "),a("span",{directives:[{name:"popover",rawName:"v-popover:popoverStatus",arg:"popoverStatus"}],attrs:{id:e.row._id}},[t._v(t._s(e.row.status))])]}}])})],1)],1)])],1)},staticRenderFns:[]};var r=function(t){a("S3zO")},o=a("VU/8")(s.a,i,!1,r,null,null);e.a=o.exports}},["NHnr"]);
//# sourceMappingURL=app.ba2fd6c78c4516021934.js.map